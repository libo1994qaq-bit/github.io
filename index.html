<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>æ”¿æ²»ä¸‰æ˜æ²» Â· åˆ†æ­¥å†³ç­–</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Appleé£æ ¼å…¨å±€æ ·å¼ - ç§»åŠ¨ç«¯ä¼˜åŒ– */
    :root {
      --apple-bg: #ff0000;
      --apple-card-bg: rgba(255, 255, 255, 0.95);
      --apple-primary: #007AFF;
      --apple-secondary: #8E8E93;
      --apple-border: #C6C6C8;
      --apple-text: #1D1D1F;
      --apple-success: #34C759;
      --apple-warning: #FF9500;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: -apple-system, "PingFang SC", "Helvetica Neue", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif;
      -webkit-tap-highlight-color: transparent;
    }
    
    body {
      background: linear-gradient(135deg, #ff0000 0%, #ff6b6b 100%);
      color: var(--apple-text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 15px;
      position: relative;
      overflow-x: hidden;
    }
    
    .container {
      max-width: 100%;
      width: 100%;
      margin: 0 auto;
      position: relative;
    }
    
    /* è¯­è¨€åˆ‡æ¢æŒ‰é’® - ç§»åŠ¨ç«¯ä¼˜åŒ– */
    .language-switcher {
      position: absolute;
      top: 70px;
      right: 15px;
      display: flex;
      gap: 5px;
      z-index: 100;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
      padding: 5px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      backdrop-filter: blur(10px);
    }
    
    .lang-btn {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: none;
      background: transparent;
      color: var(--apple-text);
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
    }
    
    .lang-btn.active {
      background: var(--apple-primary);
      color: white;
      transform: scale(1.1);
    }
    
    .lang-btn:hover:not(.active) {
      background: rgba(0, 122, 255, 0.1);
      transform: translateY(-2px);
    }
    
    .page {
      display: none;
      width: 100%;
      animation: fadeIn 0.5s ease;
    }
    
    .page.active {
      display: block;
    }
    
    .header {
      text-align: center;
      margin-bottom: 20px;
      padding-top: 20px;
      color: white;
    }
    
    .header h1 {
      font-size: 26px;
      font-weight: 700;
      margin-bottom: 8px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.2);
      line-height: 1.2;
    }
    
    .header p {
      font-size: 16px;
      opacity: 0.9;
    }
    
    /* é‡æ–°è®¾è®¡çš„è¿›åº¦æŒ‡ç¤ºå™¨ - ç§»åŠ¨ç«¯ä¼˜åŒ– */
    .progress-container {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 16px;
      padding: 15px;
      margin: 20px 0;
      box-shadow: var(--apple-shadow);
      position: relative;
      overflow: hidden;
    }
    
    .progress-steps {
      display: flex;
      justify-content: space-between;
      position: relative;
      z-index: 2;
    }
    
    .progress-step {
      display: flex;
      flex-direction: column;
      align-items: center;
      flex: 1;
      min-width: 0;
    }
    
    .step-circle {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background-color: #E5E5EA;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #8E8E93;
      font-weight: 600;
      margin-bottom: 5px;
      transition: all 0.3s ease;
      font-size: 14px;
      position: relative;
      z-index: 3;
      border: 2px solid transparent;
    }
    
    .step-circle.active {
      background-color: var(--apple-primary);
      color: white;
      transform: scale(1.1);
      box-shadow: 0 2px 8px rgba(0, 122, 255, 0.3);
    }
    
    .step-circle.completed {
      background-color: var(--apple-success);
      color: white;
      transform: scale(1);
      box-shadow: 0 2px 8px rgba(52, 199, 89, 0.3);
    }
    
    .step-label {
      font-size: 10px;
      color: var(--apple-secondary);
      text-align: center;
      transition: all 0.3s ease;
      font-weight: 500;
      line-height: 1.2;
    }
    
    .step-label.active {
      color: var(--apple-primary);
      font-weight: 600;
    }
    
    .step-label.completed {
      color: var(--apple-success);
    }
    
    .progress-bar {
      position: absolute;
      top: 50%;
      left: 0;
      right: 0;
      height: 4px;
      background-color: #E5E5EA;
      transform: translateY(-50%);
      z-index: 1;
      border-radius: 2px;
    }
    
    .progress {
      height: 100%;
      background-color: var(--apple-success);
      border-radius: 2px;
      transition: width 0.5s ease;
      box-shadow: 0 1px 3px rgba(52, 199, 89, 0.3);
      position: relative;
      z-index: 2;
    }
    
    .question-card {
      background-color: var(--apple-card-bg);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 15px;
      box-shadow: var(--apple-shadow);
      backdrop-filter: blur(10px);
    }
    
    .question-card h2 {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      line-height: 1.3;
    }
    
    .question-card h2 .step-number {
      background-color: var(--apple-primary);
      color: white;
      width: 28px;
      height: 28px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 10px;
      font-size: 14px;
      font-weight: 600;
      flex-shrink: 0;
    }
    
    .options {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .option {
      display: flex;
      align-items: center;
      padding: 15px;
      background-color: #F2F2F7;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
      border: 2px solid transparent;
      position: relative;
    }
    
    .option:hover {
      background-color: #E5E5EA;
      transform: translateY(-2px);
    }
    
    .option.selected {
      background-color: rgba(0, 122, 255, 0.1);
      border-color: var(--apple-primary);
    }
    
    .option input {
      display: none;
    }
    
    .option-label {
      display: flex;
      align-items: center;
      width: 100%;
      cursor: pointer;
    }
    
    .option-circle {
      width: 22px;
      height: 22px;
      border-radius: 50%;
      border: 2px solid var(--apple-border);
      margin-right: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      flex-shrink: 0;
    }
    
    .option input:checked + .option-label .option-circle {
      border-color: var(--apple-primary);
      background-color: var(--apple-primary);
    }
    
    .option input:checked + .option-label .option-circle::after {
      content: "";
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background-color: white;
    }
    
    .option-text {
      font-size: 16px;
      font-weight: 500;
      line-height: 1.3;
    }
    
    .option-subtext {
      font-size: 13px;
      color: var(--apple-secondary);
      margin-top: 3px;
      line-height: 1.3;
    }
    
    .checkbox-option .option-circle {
      border-radius: 6px;
    }
    
    .checkbox-option input:checked + .option-label .option-circle {
      background-color: var(--apple-primary);
      border-color: var(--apple-primary);
    }
    
    .checkbox-option input:checked + .option-label .option-circle::after {
      content: "âœ“";
      color: white;
      font-size: 12px;
      font-weight: bold;
    }
    
    /* éŸ³é¢‘é¢„è§ˆæŒ‰é’®æ ·å¼ */
    .audio-preview {
      position: absolute;
      right: 15px;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background-color: var(--apple-primary);
      color: white;
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s ease;
      box-shadow: 0 2px 8px rgba(0, 122, 255, 0.3);
    }
    
    .audio-preview:hover {
      background-color: #0056CC;
      transform: scale(1.1);
    }
    
    .audio-preview.playing {
      background-color: var(--apple-success);
    }
    
    .audio-preview i {
      font-size: 14px;
    }
    
    .button-container {
      display: flex;
      justify-content: space-between;
      margin-top: 25px;
      gap: 10px;
    }
    
    .apple-button {
      padding: 14px 20px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      border: none;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      flex: 1;
      min-height: 50px;
    }
    
    .apple-button.primary {
      background-color: var(--apple-primary);
      color: white;
      box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);
    }
    
    .apple-button.secondary {
      background-color: rgba(255, 255, 255, 0.9);
      color: var(--apple-text);
    }
    
    .apple-button.warning {
      background-color: var(--apple-warning);
      color: white;
      box-shadow: 0 4px 12px rgba(255, 149, 0, 0.3);
    }
    
    .apple-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none !important;
    }
    
    .apple-button.primary:hover:not(:disabled) {
      background-color: #0056CC;
      transform: translateY(-2px);
    }
    
    .apple-button.secondary:hover:not(:disabled) {
      background-color: #ffffff;
      transform: translateY(-2px);
    }
    
    .apple-button.warning:hover:not(:disabled) {
      background-color: #E68600;
      transform: translateY(-2px);
    }
    
    .apple-button i {
      margin-right: 8px;
    }
    
    /* è¾“å…¥æ¡†æ ·å¼ */
    .input-group {
      margin-bottom: 15px;
    }
    
    .input-label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      font-size: 16px;
      color: var(--apple-text);
    }
    
    .apple-input {
      width: 100%;
      padding: 14px 16px;
      border-radius: 12px;
      border: 2px solid var(--apple-border);
      font-size: 16px;
      background-color: #F2F2F7;
      transition: all 0.2s ease;
    }
    
    .apple-input:focus {
      outline: none;
      border-color: var(--apple-primary);
      background-color: white;
    }
    
    /* ç¡®è®¤æ¨¡æ€æ¡†æ ·å¼ - ç§»åŠ¨ç«¯ä¼˜åŒ– */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      animation: fadeIn 0.3s ease;
      backdrop-filter: blur(5px);
      padding: 15px;
    }
    
    .modal {
      background-color: var(--apple-card-bg);
      border-radius: 16px;
      padding: 20px;
      width: 100%;
      max-width: 350px;
      box-shadow: var(--apple-shadow);
      animation: slideUp 0.3s ease;
      text-align: center;
    }
    
    .modal-icon {
      font-size: 40px;
      color: var(--apple-primary);
      margin-bottom: 12px;
    }
    
    .modal h3 {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 10px;
    }
    
    .modal p {
      font-size: 16px;
      color: var(--apple-secondary);
      margin-bottom: 20px;
    }
    
    .modal-buttons {
      display: flex;
      gap: 10px;
    }
    
    .modal-buttons .apple-button {
      flex: 1;
      min-height: 44px;
    }
    
    /* æœ€ç»ˆç¡®è®¤é¡µé¢æ ·å¼ - ç§»åŠ¨ç«¯ä¼˜åŒ– */
    .summary-card {
      background-color: var(--apple-card-bg);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 15px;
      box-shadow: var(--apple-shadow);
    }
    
    .summary-header {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .summary-icon {
      font-size: 28px;
      color: var(--apple-primary);
      margin-right: 10px;
    }
    
    .summary-header h2 {
      font-size: 20px;
      font-weight: 700;
    }
    
    .summary-item {
      display: flex;
      justify-content: space-between;
      padding: 12px 0;
      border-bottom: 1px solid #F2F2F7;
      flex-wrap: wrap;
    }
    
    .summary-item:last-child {
      border-bottom: none;
    }
    
    .summary-label {
      color: var(--apple-secondary);
      font-weight: 500;
      font-size: 15px;
      flex: 1;
      min-width: 120px;
    }
    
    .summary-value {
      font-weight: 600;
      text-align: right;
      font-size: 15px;
      flex: 1;
      min-width: 150px;
      word-break: break-word;
    }
    
    /* æ‰“å°è®¢å•é¡µé¢æ ·å¼ */
    .print-order {
      text-align: center;
      padding: 20px;
    }
    
    .print-icon {
      font-size: 70px;
      color: var(--apple-warning);
      margin-bottom: 15px;
    }
    
    .print-order h2 {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 12px;
      color: white;
    }
    
    .print-order p {
      font-size: 16px;
      color: rgba(255, 255, 255, 0.9);
      margin-bottom: 25px;
    }
    
    .order-number {
      font-size: 28px;
      font-weight: 700;
      color: white;
      margin: 20px 0;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
    
    .order-details {
      background-color: var(--apple-card-bg);
      border-radius: 16px;
      padding: 20px;
      margin: 20px 0;
      box-shadow: var(--apple-shadow);
      text-align: left;
    }
    
    .order-details h3 {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 15px;
      color: var(--apple-primary);
      text-align: center;
    }
    
    /* åˆ¶ä½œç­‰å¾…é¡µé¢æ ·å¼ */
    .preparing-card {
      background-color: var(--apple-card-bg);
      border-radius: 16px;
      padding: 30px 20px;
      margin-bottom: 15px;
      box-shadow: var(--apple-shadow);
      text-align: center;
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
    }
    
    .preparing-icon {
      font-size: 80px;
      color: var(--apple-primary);
      margin-bottom: 20px;
      animation: pulse 2s infinite;
    }
    
    .preparing-card h2 {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 15px;
      color: var(--apple-primary);
    }
    
    .preparing-card p {
      font-size: 16px;
      color: var(--apple-secondary);
      margin-bottom: 25px;
      line-height: 1.5;
    }
    
    .loading-animation {
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 25px 0;
    }
    
    .sandwich-loader {
      position: relative;
      width: 100px;
      height: 60px;
    }
    
    .bread {
      position: absolute;
      width: 100px;
      height: 20px;
      background: #f4d399;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .bread-top {
      top: 0;
      z-index: 3;
    }
    
    .bread-bottom {
      bottom: 0;
      z-index: 1;
    }
    
    .ingredients {
      position: absolute;
      top: 20px;
      left: 0;
      width: 100%;
      height: 20px;
      z-index: 2;
      display: flex;
      justify-content: space-between;
      padding: 0 10px;
    }
    
    .ingredient {
      width: 15px;
      height: 15px;
      border-radius: 50%;
      animation: move 2s infinite alternate;
    }
    
    .ingredient:nth-child(1) {
      background: #ff6b6b;
      animation-delay: 0s;
    }
    
    .ingredient:nth-child(2) {
      background: #4ecdc4;
      animation-delay: 0.2s;
    }
    
    .ingredient:nth-child(3) {
      background: #ffe66d;
      animation-delay: 0.4s;
    }
    
    .ingredient:nth-child(4) {
      background: #95e1d3;
      animation-delay: 0.6s;
    }
    
    .ingredient:nth-child(5) {
      background: #ff9a76;
      animation-delay: 0.8s;
    }
    
    @keyframes move {
      0% {
        transform: translateY(0);
      }
      100% {
        transform: translateY(5px);
      }
    }
    
    .restaurant-info {
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid #F2F2F7;
    }
    
    .restaurant-name {
      font-size: 20px;
      font-weight: 700;
      color: var(--apple-primary);
      margin-bottom: 10px;
    }
    
    .project-footer {
      font-size: 14px;
      color: var(--apple-secondary);
      margin-top: 15px;
    }
    
    /* åŠ è½½åŠ¨ç”» */
    .loading-spinner {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: #fff;
      animation: spin 1s ease-in-out infinite;
      margin-right: 8px;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* åŠ¨ç”» */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes slideUp {
      from { transform: translateY(30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    /* å“åº”å¼è°ƒæ•´ - å°å±å¹•æ‰‹æœº */
    @media (max-width: 380px) {
      .language-switcher {
        position: static;
        justify-content: center;
        margin-bottom: 15px;
        align-self: center;
        top: auto;
        right: auto;
      }
      
      .header h1 {
        font-size: 24px;
      }
      
      .header p {
        font-size: 15px;
      }
      
      .question-card {
        padding: 15px;
      }
      
      .question-card h2 {
        font-size: 18px;
      }
      
      .option-text {
        font-size: 15px;
      }
      
      .option-subtext {
        font-size: 12px;
      }
      
      .apple-button {
        padding: 12px 16px;
        font-size: 15px;
        min-height: 46px;
      }
      
      .progress-container {
        padding: 12px;
      }
      
      .step-circle {
        width: 26px;
        height: 26px;
        font-size: 12px;
      }
      
      .step-label {
        font-size: 9px;
      }
      
      .summary-item {
        flex-direction: column;
      }
      
      .summary-label, .summary-value {
        text-align: left;
        min-width: 100%;
      }
      
      .summary-value {
        margin-top: 5px;
      }
      
      .audio-preview {
        width: 32px;
        height: 32px;
        right: 10px;
      }
      
      .audio-preview i {
        font-size: 12px;
      }
      
      .preparing-card {
        padding: 20px 15px;
      }
      
      .preparing-icon {
        font-size: 60px;
      }
      
      .preparing-card h2 {
        font-size: 20px;
      }
      
      .preparing-card p {
        font-size: 15px;
      }
      
      .sandwich-loader {
        width: 80px;
        height: 50px;
      }
      
      .bread {
        width: 80px;
        height: 16px;
      }
      
      .ingredients {
        top: 16px;
      }
      
      .ingredient {
        width: 12px;
        height: 12px;
      }
    }
    
    /* æ¨ªå±ä¼˜åŒ– */
    @media (max-height: 500px) and (orientation: landscape) {
      .header {
        padding-top: 10px;
        margin-bottom: 15px;
      }
      
      .header h1 {
        font-size: 22px;
      }
      
      .progress-container {
        margin: 10px 0;
        padding: 10px;
      }
      
      .question-card {
        padding: 15px;
        margin-bottom: 10px;
      }
      
      .button-container {
        margin-top: 15px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- è¯­è¨€åˆ‡æ¢å™¨ -->
    <div class="language-switcher">
      <button class="lang-btn active" data-lang="zh">ğŸ‡¨ğŸ‡³</button>
      <button class="lang-btn" data-lang="ko">ğŸ‡°ğŸ‡·</button>
      <button class="lang-btn" data-lang="en">ğŸ‡ºğŸ‡¸</button>
    </div>
    
    <!-- é¡µé¢0: è¾“å…¥å§“å -->
    <section id="page0" class="page active">
      <div class="header">
        <h1 data-i18n="title">ğŸ¥ª æ”¿æ²»ä¸‰æ˜æ²» Â· ç‚¹å•è¡¨</h1>
        <p data-i18n="welcome">æ¬¢è¿å…‰ä¸´ï¼Œè¯·å…ˆè¾“å…¥æ‚¨çš„å§“å</p>
      </div>
      
      <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress" id="globalProgress" style="width: 0%"></div>
        </div>
        <div class="progress-steps">
          <div class="progress-step" data-step="0">
            <div class="step-circle active">0</div>
            <div class="step-label active" data-i18n="name">å§“å</div>
          </div>
          <div class="progress-step" data-step="1">
            <div class="step-circle">1</div>
            <div class="step-label" data-i18n="duration">æ—¶é•¿</div>
          </div>
          <div class="progress-step" data-step="2">
            <div class="step-circle">2</div>
            <div class="step-label" data-i18n="bgMusic">èƒŒæ™¯éŸ³ä¹</div>
          </div>
          <div class="progress-step" data-step="3">
            <div class="step-circle">3</div>
            <div class="step-label" data-i18n="politicians">æ”¿æ²»äººç‰©</div>
          </div>
          <div class="progress-step" data-step="4">
            <div class="step-circle">4</div>
            <div class="step-label" data-i18n="soundEffects">å£°éŸ³æ•ˆæœ</div>
          </div>
          <div class="progress-step" data-step="5">
            <div class="step-circle">5</div>
            <div class="step-label" data-i18n="musicEffects">éŸ³ä¹æ•ˆæœ</div>
          </div>
          <div class="progress-step" data-step="6">
            <div class="step-circle">6</div>
            <div class="step-label" data-i18n="musicStyle">éŸ³ä¹é£æ ¼</div>
          </div>
        </div>
      </div>
      
      <div class="question-card">
        <h2><span class="step-number">0</span> <span data-i18n="enterName">ğŸ‘¤ è¯·è¾“å…¥æ‚¨çš„å§“å</span></h2>
        <div class="input-group">
          <label for="customerName" class="input-label" data-i18n="customerNameLabel">æ‚¨çš„å§“å</label>
          <input type="text" id="customerName" class="apple-input" placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å" maxlength="20">
        </div>
        <p style="margin-top: 16px; font-size: 14px; color: var(--apple-secondary);" data-i18n="nameNote">*æˆ‘ä»¬å°†ä½¿ç”¨æ­¤å§“åè®°å½•æ‚¨çš„è®¢å•</p>
      </div>
      
      <div class="button-container">
        <button class="apple-button secondary" disabled><i class="fas fa-arrow-left"></i><span data-i18n="prev">ä¸Šä¸€æ­¥</span></button>
        <button class="apple-button primary" id="next0"><span data-i18n="next">ä¸‹ä¸€æ­¥</span> <i class="fas fa-arrow-right"></i></button>
      </div>
    </section>
    
    <!-- é¡µé¢1: é€‰æ‹©æ—¶é•¿ -->
    <section id="page1" class="page">
      <div class="header">
        <h1 data-i18n="title">ğŸ¥ª æ”¿æ²»ä¸‰æ˜æ²» Â· ç‚¹å•è¡¨</h1>
        <p data-i18n="step1">æ­¥éª¤ 1/6 - é€‰æ‹©æ—¶é•¿</p>
      </div>
      
      <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress" id="globalProgress" style="width: 14%"></div>
        </div>
        <div class="progress-steps">
          <div class="progress-step" data-step="0">
            <div class="step-circle completed">0</div>
            <div class="step-label completed" data-i18n="name">å§“å</div>
          </div>
          <div class="progress-step" data-step="1">
            <div class="step-circle active">1</div>
            <div class="step-label active" data-i18n="duration">æ—¶é•¿</div>
          </div>
          <div class="progress-step" data-step="2">
            <div class="step-circle">2</div>
            <div class="step-label" data-i18n="bgMusic">èƒŒæ™¯éŸ³ä¹</div>
          </div>
          <div class="progress-step" data-step="3">
            <div class="step-circle">3</div>
            <div class="step-label" data-i18n="politicians">æ”¿æ²»äººç‰©</div>
          </div>
          <div class="progress-step" data-step="4">
            <div class="step-circle">4</div>
            <div class="step-label" data-i18n="soundEffects">å£°éŸ³æ•ˆæœ</div>
          </div>
          <div class="progress-step" data-step="5">
            <div class="step-circle">5</div>
            <div class="step-label" data-i18n="musicEffects">éŸ³ä¹æ•ˆæœ</div>
          </div>
          <div class="progress-step" data-step="6">
            <div class="step-circle">6</div>
            <div class="step-label" data-i18n="musicStyle">éŸ³ä¹é£æ ¼</div>
          </div>
        </div>
      </div>
      
      <div class="question-card">
        <h2><span class="step-number">1</span> <span data-i18n="chooseDuration">â±ï¸é€‰æ‹©æ—¶é•¿ï¼ˆé¢åŒ…çš„å°ºå¯¸ä¸ææ–™ï¼‰</span></h2>
        <div class="options">
          <div class="option">
            <input type="radio" id="duration1" name="duration" value="duration1">
            <label for="duration1" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="duration1">ğŸ 15'ï¼ˆ6è‹±å¯¸æ„å¼ç™½é¢åŒ…ï¼ˆClassicï¼‰ï¼‰</div>
                <div class="option-subtext" data-i18n="duration1Desc">å¿«é€Ÿå“å°ç‰ˆ</div>
              </div>
            </label>
          </div>
          <div class="option">
            <input type="radio" id="duration2" name="duration" value="duration2">
            <label for="duration2" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="duration2">ğŸ¥– 30'ï¼ˆ12è‹±å¯¸æ— éº¸è´¨é¢åŒ…ï¼‰</div>
                <div class="option-subtext" data-i18n="duration2Desc">å®Œæ•´ä½“éªŒç‰ˆ</div>
              </div>
            </label>
          </div>
        </div>
      </div>
      
      <div class="button-container">
        <button class="apple-button secondary" id="prev1"><i class="fas fa-arrow-left"></i><span data-i18n="prev">ä¸Šä¸€æ­¥</span></button>
        <button class="apple-button primary" id="next1" disabled><span data-i18n="next">ä¸‹ä¸€æ­¥</span> <i class="fas fa-arrow-right"></i></button>
      </div>
    </section>
    
    <!-- é¡µé¢2: é€‰æ‹©èƒŒæ™¯éŸ³ä¹ -->
    <section id="page2" class="page">
      <div class="header">
        <h1 data-i18n="title">ğŸ¥ª æ”¿æ²»ä¸‰æ˜æ²» Â· ç‚¹å•è¡¨</h1>
        <p data-i18n="step2">æ­¥éª¤ 2/6 - é€‰æ‹©èƒŒæ™¯éŸ³ä¹</p>
      </div>
      
      <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress" id="globalProgress" style="width: 28%"></div>
        </div>
        <div class="progress-steps">
          <div class="progress-step" data-step="0">
            <div class="step-circle completed">0</div>
            <div class="step-label completed" data-i18n="name">å§“å</div>
          </div>
          <div class="progress-step" data-step="1">
            <div class="step-circle completed">1</div>
            <div class="step-label completed" data-i18n="duration">æ—¶é•¿</div>
          </div>
          <div class="progress-step" data-step="2">
            <div class="step-circle active">2</div>
            <div class="step-label active" data-i18n="bgMusic">èƒŒæ™¯éŸ³ä¹</div>
          </div>
          <div class="progress-step" data-step="3">
            <div class="step-circle">3</div>
            <div class="step-label" data-i18n="politicians">æ”¿æ²»äººç‰©</div>
          </div>
          <div class="progress-step" data-step="4">
            <div class="step-circle">4</div>
            <div class="step-label" data-i18n="soundEffects">å£°éŸ³æ•ˆæœ</div>
          </div>
          <div class="progress-step" data-step="5">
            <div class="step-circle">5</div>
            <div class="step-label" data-i18n="musicEffects">éŸ³ä¹æ•ˆæœ</div>
          </div>
          <div class="progress-step" data-step="6">
            <div class="step-circle">6</div>
            <div class="step-label" data-i18n="musicStyle">éŸ³ä¹é£æ ¼</div>
          </div>
        </div>
      </div>
      
      <div class="question-card">
        <h2><span class="step-number">2</span> <span data-i18n="chooseBgMusic">ğŸµé€‰æ‹©èƒŒæ™¯éŸ³ä¹ï¼ˆåº•é…±ï¼‰</span></h2>
        <div class="options">
          <div class="option">
            <input type="radio" id="bg1" name="bg" value="bg1">
            <label for="bg1" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="bg1">ğŸ§ ç™½å™ªéŸ³ï¼ˆç¾ä¹ƒæ»‹ï¼‰</div>
                <div class="option-subtext" data-i18n="bg1Desc">çº¯å‡€æ— å¹²æ‰°çš„èƒŒæ™¯éŸ³</div>
              </div>
            </label>
            <button class="audio-preview" data-audio="audio/bg1.mp3">
              <i class="fas fa-play"></i>
            </button>
          </div>
          <div class="option">
            <input type="radio" id="bg2" name="bg" value="bg2">
            <label for="bg2" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="bg2">ğŸ—£ï¸ è¡Œäººè®²è¯å£°ï¼ˆèœ‚èœœèŠ¥æœ«ï¼‰</div>
                <div class="option-subtext" data-i18n="bg2Desc">è¡—å¤´å··å°¾çš„çœŸå®æ°›å›´</div>
              </div>
            </label>
            <button class="audio-preview" data-audio="audio/bg2.mp3">
              <i class="fas fa-play"></i>
            </button>
          </div>
          <div class="option">
            <input type="radio" id="bg3" name="bg" value="bg3">
            <label for="bg3" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="bg3">ğŸŒ³ ç¯å¢ƒéŸ³ï¼ˆçƒ§çƒ¤é…±ï¼‰</div>
                <div class="option-subtext" data-i18n="bg3Desc">è‡ªç„¶ä¸åŸå¸‚çš„æ··åˆå£°æ™¯</div>
              </div>
            </label>
            <button class="audio-preview" data-audio="audio/bg3.mp3">
              <i class="fas fa-play"></i>
            </button>
          </div>
        </div>
      </div>
      
      <div class="button-container">
        <button class="apple-button secondary" id="prev2"><i class="fas fa-arrow-left"></i><span data-i18n="prev">ä¸Šä¸€æ­¥</span></button>
        <button class="apple-button primary" id="next2" disabled><span data-i18n="next">ä¸‹ä¸€æ­¥</span> <i class="fas fa-arrow-right"></i></button>
      </div>
    </section>
    
    <!-- é¡µé¢3: é€‰æ‹©æ”¿æ²»äººç‰© -->
    <section id="page3" class="page">
      <div class="header">
        <h1 data-i18n="title">ğŸ¥ª æ”¿æ²»ä¸‰æ˜æ²» Â· ç‚¹å•è¡¨</h1>
        <p data-i18n="step3">æ­¥éª¤ 3/6 - é€‰æ‹©æ”¿æ²»äººç‰©</p>
      </div>
      
      <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress" id="globalProgress" style="width: 42%"></div>
        </div>
        <div class="progress-steps">
          <div class="progress-step" data-step="0">
            <div class="step-circle completed">0</div>
            <div class="step-label completed" data-i18n="name">å§“å</div>
          </div>
          <div class="progress-step" data-step="1">
            <div class="step-circle completed">1</div>
            <div class="step-label completed" data-i18n="duration">æ—¶é•¿</div>
          </div>
          <div class="progress-step" data-step="2">
            <div class="step-circle completed">2</div>
            <div class="step-label completed" data-i18n="bgMusic">èƒŒæ™¯éŸ³ä¹</div>
          </div>
          <div class="progress-step" data-step="3">
            <div class="step-circle active">3</div>
            <div class="step-label active" data-i18n="politicians">æ”¿æ²»äººç‰©</div>
          </div>
          <div class="progress-step" data-step="4">
            <div class="step-circle">4</div>
            <div class="step-label" data-i18n="soundEffects">å£°éŸ³æ•ˆæœ</div>
          </div>
          <div class="progress-step" data-step="5">
            <div class="step-circle">5</div>
            <div class="step-label" data-i18n="musicEffects">éŸ³ä¹æ•ˆæœ</div>
          </div>
          <div class="progress-step" data-step="6">
            <div class="step-circle">6</div>
            <div class="step-label" data-i18n="musicStyle">éŸ³ä¹é£æ ¼</div>
          </div>
        </div>
      </div>
      
      <div class="question-card">
        <h2><span class="step-number">3</span> <span data-i18n="choosePoliticians">ğŸ‘¥é€‰æ‹©æ”¿æ²»äººç‰©ï¼ˆè‚‰ç±»ï¼‰</span></h2>
        <div class="options">
          <div class="option checkbox-option">
            <input type="checkbox" id="politician1" name="politician" value="politician1">
            <label for="politician1" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="politician1">ğŸ‡ºğŸ‡² ç‰¹æœ—æ™®ï¼ˆç¾å¼ç«é¸¡èƒ¸è‚‰ï¼‰</div>
                <div class="option-subtext" data-i18n="politician1Desc">ç¾å›½æ€»ç»Ÿï¼Œæ°‘ç²¹ä¸»ä¹‰ä»£è¡¨</div>
              </div>
            </label>
            <button class="audio-preview" data-audio="audio/politician1.mp3">
              <i class="fas fa-play"></i>
            </button>
          </div>
          <div class="option checkbox-option">
            <input type="checkbox" id="politician2" name="politician" value="politician2">
            <label for="politician2" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="politician2">ğŸ‡¨ğŸ‡³ ä¹ è¿‘å¹³ï¼ˆä¸­åçƒ¤é¸­é£å‘³ï¼‰</div>
                <div class="option-subtext" data-i18n="politician2Desc">ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰</div>
              </div>
            </label>
            <button class="audio-preview" data-audio="audio/politician2.mp3">
              <i class="fas fa-play"></i>
            </button>
          </div>
          <div class="option checkbox-option">
            <input type="checkbox" id="politician3" name="politician" value="politician3">
            <label for="politician3" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="politician3">ğŸ‡·ğŸ‡º æ™®äº¬ï¼ˆä¿„å¼é¦™è‚ ï¼‰</div>
                <div class="option-subtext" data-i18n="politician3Desc">ä¿„ç½—æ–¯æ€»ç»Ÿï¼Œå¼ºæƒæ”¿æ²»ä»£è¡¨</div>
              </div>
            </label>
            <button class="audio-preview" data-audio="audio/politician3.mp3">
              <i class="fas fa-play"></i>
            </button>
          </div>
          <div class="option checkbox-option">
            <input type="checkbox" id="politician4" name="politician" value="politician4">
            <label for="politician4" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="politician4">ğŸ‡°ğŸ‡· æåœ¨æ˜ï¼ˆéŸ©å¼çƒ¤ç‰›è‚‰ï¼‰</div>
                <div class="option-subtext" data-i18n="politician4Desc">éŸ©å›½å…±åŒæ°‘ä¸»å…šé¢†è¢–ï¼Œè¿›æ­¥æ´¾</div>
              </div>
            </label>
            <button class="audio-preview" data-audio="audio/politician4.mp3">
              <i class="fas fa-play"></i>
            </button>
          </div>
          <div class="option checkbox-option">
            <input type="checkbox" id="politician5" name="politician" value="politician5">
            <label for="politician5" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="politician5">ğŸ‡¯ğŸ‡µ çŸ³ç ´èŒ‚ï¼ˆæ—¥å¼ç…§çƒ§é¸¡ï¼‰</div>
                <div class="option-subtext" data-i18n="politician5Desc">æ—¥æœ¬è‡ªæ°‘å…šè®®å‘˜ï¼Œä¿å®ˆæ´¾</div>
              </div>
            </label>
            <button class="audio-preview" data-audio="audio/politician5.mp3">
              <i class="fas fa-play"></i>
            </button>
          </div>
        </div>
        <p style="margin-top: 16px; font-size: 14px; color: var(--apple-secondary);" data-i18n="multiSelectNote">*æ”¿å…šåŒç›Ÿ / å¤šäººå¹¶ç½®ï¼ˆå¤šé€‰å‡å¯ï¼‰</p>
      </div>
      
      <div class="button-container">
        <button class="apple-button secondary" id="prev3"><i class="fas fa-arrow-left"></i><span data-i18n="prev">ä¸Šä¸€æ­¥</span></button>
        <button class="apple-button primary" id="next3"><span data-i18n="next">ä¸‹ä¸€æ­¥</span> <i class="fas fa-arrow-right"></i></button>
      </div>
    </section>
    
    <!-- é¡µé¢4: é€‰æ‹©å£°éŸ³æ•ˆæœ -->
    <section id="page4" class="page">
      <div class="header">
        <h1 data-i18n="title">ğŸ¥ª æ”¿æ²»ä¸‰æ˜æ²» Â· ç‚¹å•è¡¨</h1>
        <p data-i18n="step4">æ­¥éª¤ 4/6 - é€‰æ‹©å£°éŸ³æ•ˆæœ</p>
      </div>
      
      <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress" id="globalProgress" style="width: 56%"></div>
        </div>
        <div class="progress-steps">
          <div class="progress-step" data-step="0">
            <div class="step-circle completed">0</div>
            <div class="step-label completed" data-i18n="name">å§“å</div>
          </div>
          <div class="progress-step" data-step="1">
            <div class="step-circle completed">1</div>
            <div class="step-label completed" data-i18n="duration">æ—¶é•¿</div>
          </div>
          <div class="progress-step" data-step="2">
            <div class="step-circle completed">2</div>
            <div class="step-label completed" data-i18n="bgMusic">èƒŒæ™¯éŸ³ä¹</div>
          </div>
          <div class="progress-step" data-step="3">
            <div class="step-circle completed">3</div>
            <div class="step-label completed" data-i18n="politicians">æ”¿æ²»äººç‰©</div>
          </div>
          <div class="progress-step" data-step="4">
            <div class="step-circle active">4</div>
            <div class="step-label active" data-i18n="soundEffects">å£°éŸ³æ•ˆæœ</div>
          </div>
          <div class="progress-step" data-step="5">
            <div class="step-circle">5</div>
            <div class="step-label" data-i18n="musicEffects">éŸ³ä¹æ•ˆæœ</div>
          </div>
          <div class="progress-step" data-step="6">
            <div class="step-circle">6</div>
            <div class="step-label" data-i18n="musicStyle">éŸ³ä¹é£æ ¼</div>
          </div>
        </div>
      </div>
      
      <div class="question-card">
        <h2><span class="step-number">4</span> <span data-i18n="chooseSoundEffects">ğŸ”Šé€‰æ‹©å£°éŸ³æ•ˆæœï¼ˆè”¬èœï¼‰</span></h2>
        <div class="options">
          <div class="option checkbox-option">
            <input type="checkbox" id="vege1" name="vege" value="vege1">
            <label for="vege1" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="vege1">ğŸ‰ äººç¾¤æ¬¢å‘¼ï¼ˆç”Ÿèœï¼‰</div>
                <div class="option-subtext" data-i18n="vege1Desc">çƒ­çƒˆæ”¯æŒçš„æ°›å›´</div>
              </div>
            </label>
            <button class="audio-preview" data-audio="audio/vege1.mp3">
              <i class="fas fa-play"></i>
            </button>
          </div>
          <div class="option checkbox-option">
            <input type="checkbox" id="vege2" name="vege" value="vege2">
            <label for="vege2" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="vege2">ğŸ“° æ–°é—»æ’­æŠ¥ç‰‡æ®µï¼ˆè¥¿çº¢æŸ¿ï¼‰</div>
                <div class="option-subtext" data-i18n="vege2Desc">æƒå¨åª’ä½“çš„æŠ¥é“</div>
              </div>
            </label>
            <button class="audio-preview" data-audio="audio/vege2.mp3">
              <i class="fas fa-play"></i>
            </button>
          </div>
          <div class="option checkbox-option">
            <input type="checkbox" id="vege3" name="vege" value="vege3">
            <label for="vege3" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="vege3">ğŸ“¢ æŠ—è®®å£å·ï¼ˆæ´‹è‘±ï¼‰</div>
                <div class="option-subtext" data-i18n="vege3Desc">ä¸åŒæ„è§çš„è¡¨è¾¾</div>
              </div>
            </label>
            <button class="audio-preview" data-audio="audio/vege3.mp3">
              <i class="fas fa-play"></i>
            </button>
          </div>
          <div class="option checkbox-option">
            <input type="checkbox" id="vege4" name="vege" value="vege4">
            <label for="vege4" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="vege4">ğŸ’¥ æªå£° / çˆ†ç‚¸å£°ï¼ˆé’æ¤’ï¼‰</div>
                <div class="option-subtext" data-i18n="vege4Desc">å†²çªä¸ç´§å¼ å±€åŠ¿</div>
              </div>
            </label>
            <button class="audio-preview" data-audio="audio/vege4.mp3">
              <i class="fas fa-play"></i>
            </button>
          </div>
          <div class="option checkbox-option">
            <input type="checkbox" id="vege5" name="vege" value="vege5">
            <label for="vege5" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="vege5">ğŸ˜ å˜²ç¬‘å£°ï¼ˆé…¸é»„ç“œï¼‰</div>
                <div class="option-subtext" data-i18n="vege5Desc">è®½åˆºä¸ä¸è®¤åŒ</div>
              </div>
            </label>
            <button class="audio-preview" data-audio="audio/vege5.mp3">
              <i class="fas fa-play"></i>
            </button>
          </div>
          <div class="option checkbox-option">
            <input type="checkbox" id="vege7" name="vege" value="vege7">
            <label for="vege7" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="vege7">ğŸŒªï¸ ä¿¡æ¯æ··ä¹±éŸ³å¢™ï¼ˆå…¨éƒ¨è”¬èœï¼‰</div>
                <div class="option-subtext" data-i18n="vege7Desc">æ‰€æœ‰å£°éŸ³çš„æ··åˆ</div>
              </div>
            </label>
            <button class="audio-preview" data-audio="audio/vege7.mp3">
              <i class="fas fa-play"></i>
            </button>
          </div>
        </div>
      </div>
      
      <div class="button-container">
        <button class="apple-button secondary" id="prev4"><i class="fas fa-arrow-left"></i><span data-i18n="prev">ä¸Šä¸€æ­¥</span></button>
        <button class="apple-button primary" id="next4"><span data-i18n="next">ä¸‹ä¸€æ­¥</span> <i class="fas fa-arrow-right"></i></button>
      </div>
    </section>
    
    <!-- é¡µé¢5: é€‰æ‹©éŸ³ä¹æ•ˆæœ -->
    <section id="page5" class="page">
      <div class="header">
        <h1 data-i18n="title">ğŸ¥ª æ”¿æ²»ä¸‰æ˜æ²» Â· ç‚¹å•è¡¨</h1>
        <p data-i18n="step5">æ­¥éª¤ 5/6 - é€‰æ‹©éŸ³ä¹æ•ˆæœ</p>
      </div>
      
      <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress" id="globalProgress" style="width: 70%"></div>
        </div>
        <div class="progress-steps">
          <div class="progress-step" data-step="0">
            <div class="step-circle completed">0</div>
            <div class="step-label completed" data-i18n="name">å§“å</div>
          </div>
          <div class="progress-step" data-step="1">
            <div class="step-circle completed">1</div>
            <div class="step-label completed" data-i18n="duration">æ—¶é•¿</div>
          </div>
          <div class="progress-step" data-step="2">
            <div class="step-circle completed">2</div>
            <div class="step-label completed" data-i18n="bgMusic">èƒŒæ™¯éŸ³ä¹</div>
          </div>
          <div class="progress-step" data-step="3">
            <div class="step-circle completed">3</div>
            <div class="step-label completed" data-i18n="politicians">æ”¿æ²»äººç‰©</div>
          </div>
          <div class="progress-step" data-step="4">
            <div class="step-circle completed">4</div>
            <div class="step-label completed" data-i18n="soundEffects">å£°éŸ³æ•ˆæœ</div>
          </div>
          <div class="progress-step" data-step="5">
            <div class="step-circle active">5</div>
            <div class="step-label active" data-i18n="musicEffects">éŸ³ä¹æ•ˆæœ</div>
          </div>
          <div class="progress-step" data-step="6">
            <div class="step-circle">6</div>
            <div class="step-label" data-i18n="musicStyle">éŸ³ä¹é£æ ¼</div>
          </div>
        </div>
      </div>
      
      <div class="question-card">
        <h2><span class="step-number">5</span> <span data-i18n="chooseMusicEffects">ğŸ›ï¸é€‰æ‹©éŸ³ä¹æ•ˆæœï¼ˆèŠå£«ï¼‰</span></h2>
        <div class="options">
          <div class="option">
            <input type="radio" id="sauce1" name="sauce" value="sauce1">
            <label for="sauce1" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="sauce1">ğŸ¹ ç”µå­ä¹å¾ªç¯ï¼ˆé©¬è‹é‡Œæ‹‰èŠå£«ï¼‰</div>
                <div class="option-subtext" data-i18n="sauce1Desc">æŒç»­å¾‹åŠ¨çš„ç”µå­æ°›å›´</div>
              </div>
            </label>
            <button class="audio-preview" data-audio="audio/sauce1.mp3">
              <i class="fas fa-play"></i>
            </button>
          </div>
          <div class="option">
            <input type="radio" id="sauce2" name="sauce" value="sauce2">
            <label for="sauce2" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="sauce2">ğŸ¸ æµè¡Œä¹ä¼´å¥ï¼ˆåˆ‡è¾¾èŠå£«ï¼‰</div>
                <div class="option-subtext" data-i18n="sauce2Desc">è½»æ¾å¤§ä¼—åŒ–çš„é£æ ¼</div>
              </div>
            </label>
            <button class="audio-preview" data-audio="audio/sauce2.mp3">
              <i class="fas fa-play"></i>
            </button>
          </div>
          <div class="option">
            <input type="radio" id="sauce3" name="sauce" value="sauce3">
            <label for="sauce3" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="sauce3">ğŸ¤ è¯´å”±èŠ‚æ‹ï¼ˆè“çº¹èŠå£«ï¼‰</div>
                <div class="option-subtext" data-i18n="sauce3Desc">èŠ‚å¥æ„Ÿå¼ºçš„ç°ä»£é£æ ¼</div>
              </div>
            </label>
            <button class="audio-preview" data-audio="audio/sauce3.mp3">
              <i class="fas fa-play"></i>
            </button>
          </div>
        </div>
      </div>
      
      <div class="button-container">
        <button class="apple-button secondary" id="prev5"><i class="fas fa-arrow-left"></i><span data-i18n="prev">ä¸Šä¸€æ­¥</span></button>
        <button class="apple-button primary" id="next5" disabled><span data-i18n="next">ä¸‹ä¸€æ­¥</span> <i class="fas fa-arrow-right"></i></button>
      </div>
    </section>
    
    <!-- é¡µé¢6: é€‰æ‹©éŸ³ä¹é£æ ¼ -->
    <section id="page6" class="page">
      <div class="header">
        <h1 data-i18n="title">ğŸ¥ª æ”¿æ²»ä¸‰æ˜æ²» Â· ç‚¹å•è¡¨</h1>
        <p data-i18n="step6">æ­¥éª¤ 6/6 - é€‰æ‹©éŸ³ä¹é£æ ¼</p>
      </div>
      
      <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress" id="globalProgress" style="width: 84%"></div>
        </div>
        <div class="progress-steps">
          <div class="progress-step" data-step="0">
            <div class="step-circle completed">0</div>
            <div class="step-label completed" data-i18n="name">å§“å</div>
          </div>
          <div class="progress-step" data-step="1">
            <div class="step-circle completed">1</div>
            <div class="step-label completed" data-i18n="duration">æ—¶é•¿</div>
          </div>
          <div class="progress-step" data-step="2">
            <div class="step-circle completed">2</div>
            <div class="step-label completed" data-i18n="bgMusic">èƒŒæ™¯éŸ³ä¹</div>
          </div>
          <div class="progress-step" data-step="3">
            <div class="step-circle completed">3</div>
            <div class="step-label completed" data-i18n="politicians">æ”¿æ²»äººç‰©</div>
          </div>
          <div class="progress-step" data-step="4">
            <div class="step-circle completed">4</div>
            <div class="step-label completed" data-i18n="soundEffects">å£°éŸ³æ•ˆæœ</div>
          </div>
          <div class="progress-step" data-step="5">
            <div class="step-circle completed">5</div>
            <div class="step-label completed" data-i18n="musicEffects">éŸ³ä¹æ•ˆæœ</div>
          </div>
          <div class="progress-step" data-step="6">
            <div class="step-circle active">6</div>
            <div class="step-label active" data-i18n="musicStyle">éŸ³ä¹é£æ ¼</div>
          </div>
        </div>
      </div>
      
      <div class="question-card">
        <h2><span class="step-number">6</span> <span data-i18n="chooseMusicStyle">ğŸ¨é€‰æ‹©éŸ³ä¹é£æ ¼ï¼ˆåŠ çƒ­ä¸åŒ…è£…ï¼‰</span></h2>
        <div class="options">
          <div class="option">
            <input type="radio" id="style1" name="style" value="style1">
            <label for="style1" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="style1">âœ¨ é¢—ç²’åˆæˆé£</div>
                <div class="option-subtext" data-i18n="style1Desc">å°†å£°éŸ³åˆ‡åˆ†æˆå¾®å°é¢—ç²’å¹¶é‡ç»„ï¼Œåˆ›é€ ç»†è…»çš„çº¹ç†å˜åŒ–</div>
              </div>
            </label>
          </div>
          <div class="option">
            <input type="radio" id="style2" name="style" value="style2">
            <label for="style2" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="style2">ğŸŒŠ å·ç§¯æ··å“é£</div>
                <div class="option-subtext" data-i18n="style2Desc">é€šè¿‡è„‰å†²å“åº”æ··åˆå£°æ™¯ï¼Œè¥é€ æ²‰æµ¸å¼çš„ç©ºé—´æ„Ÿ</div>
              </div>
            </label>
          </div>
          <div class="option">
            <input type="radio" id="style3" name="style" value="style3">
            <label for="style3" class="option-label">
              <span class="option-circle"></span>
              <div>
                <div class="option-text" data-i18n="style3">ğŸŒˆ é¢‘è°±å˜å½¢é£</div>
                <div class="option-subtext" data-i18n="style3Desc">åœ¨é¢‘åŸŸä¸­ç›´æ¥æ“ä½œå£°éŸ³ï¼Œå®ç°å¹³æ»‘çš„éŸ³è‰²è¿‡æ¸¡</div>
              </div>
            </label>
          </div>
        </div>
      </div>
      
      <div class="button-container">
        <button class="apple-button secondary" id="prev6"><i class="fas fa-arrow-left"></i><span data-i18n="prev">ä¸Šä¸€æ­¥</span></button>
        <button class="apple-button primary" id="next6" disabled><span data-i18n="submitOrder">æäº¤è®¢å•</span></button>
      </div>
    </section>
    <!-- é¡µé¢7: æœ€ç»ˆç¡®è®¤é¡µé¢ -->
    <section id="page7" class="page">
      <div class="header">
        <h1 data-i18n="title">ğŸ¥ª æ”¿æ²»ä¸‰æ˜æ²» Â· è®¢å•ç¡®è®¤</h1>
        <p data-i18n="confirmDesc">è¯·ç¡®è®¤æ‚¨çš„é€‰æ‹©</p>
      </div>
      
      <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress" id="globalProgress" style="width: 100%"></div>
        </div>
        <div class="progress-steps">
          <div class="progress-step" data-step="0">
            <div class="step-circle completed">0</div>
            <div class="step-label completed" data-i18n="name">å§“å</div>
          </div>
          <div class="progress-step" data-step="1">
            <div class="step-circle completed">1</div>
            <div class="step-label completed" data-i18n="duration">æ—¶é•¿</div>
          </div>
          <div class="progress-step" data-step="2">
            <div class="step-circle completed">2</div>
            <div class="step-label completed" data-i18n="bgMusic">èƒŒæ™¯éŸ³ä¹</div>
          </div>
          <div class="progress-step" data-step="3">
            <div class="step-circle completed">3</div>
            <div class="step-label completed" data-i18n="politicians">æ”¿æ²»äººç‰©</div>
          </div>
          <div class="progress-step" data-step="4">
            <div class="step-circle completed">4</div>
            <div class="step-label completed" data-i18n="soundEffects">å£°éŸ³æ•ˆæœ</div>
          </div>
          <div class="progress-step" data-step="5">
            <div class="step-circle completed">5</div>
            <div class="step-label completed" data-i18n="musicEffects">éŸ³ä¹æ•ˆæœ</div>
          </div>
          <div class="progress-step" data-step="6">
            <div class="step-circle completed">6</div>
            <div class="step-label completed" data-i18n="musicStyle">éŸ³ä¹é£æ ¼</div>
          </div>
        </div>
      </div>
      
      <div class="summary-card">
        <div class="summary-header">
          <div class="summary-icon">
            <i class="fas fa-clipboard-check"></i>
          </div>
          <h2 data-i18n="summaryTitle">æ‚¨çš„é€‰æ‹©æ‘˜è¦</h2>
        </div>
        <div class="summary-list" id="summaryList">
          <!-- é€‰æ‹©æ‘˜è¦å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>
      </div>
      
      <div class="button-container">
        <button class="apple-button secondary" id="prev7"><i class="fas fa-edit"></i><span data-i18n="edit">è¿”å›ä¿®æ”¹</span></button>
        <button class="apple-button primary" id="confirmOrder"><i class="fas fa-check"></i><span data-i18n="confirmGenerate">ç¡®è®¤å¹¶æäº¤è®¢å•</span></button>
      </div>
    </section>
    
    <!-- é¡µé¢8: æ‰“å°è®¢å•é¡µé¢ -->
    <section id="page8" class="page">
      <div class="print-order">
        <div class="print-icon">
          <i class="fas fa-receipt"></i>
        </div>
        <h2 data-i18n="orderConfirmed">è®¢å•å·²ç¡®è®¤ï¼</h2>
        <p data-i18n="orderConfirmedDesc">æ‚¨çš„è®¢å•å³å°†è¿›å…¥åˆ¶ä½œé˜Ÿåˆ—</p>
        
        <div class="order-number" id="orderNumberDisplay">
          <!-- è®¢å•å·å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>
        
        <div class="order-details" id="printOrderDetails">
          <!-- æ‰“å°è®¢å•è¯¦æƒ…å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>
        
        <div class="button-container">
          <button class="apple-button primary" id="submitFinalOrder" style="flex: 1;">
            <i class="fas fa-paper-plane"></i><span data-i18n="submitFinalOrder">æäº¤è®¢å•</span>
          </button>
        </div>
      </div>
    </section>
    
    <!-- é¡µé¢9: åˆ¶ä½œç­‰å¾…é¡µé¢ -->
    <section id="page9" class="page">
      <div class="header">
        <h1 data-i18n="title">ğŸ¥ª æ”¿æ²»ä¸‰æ˜æ²» Â· åˆ¶ä½œä¸­</h1>
        <p data-i18n="preparingDesc">æ‚¨çš„ä¸“å±ä¸‰æ˜æ²»æ­£åœ¨åˆ¶ä½œ</p>
      </div>
      
      <div class="preparing-card">
        <div class="preparing-icon">
          <i class="fas fa-concierge-bell"></i>
        </div>
        
        <h2 data-i18n="preparingTitle">æ­£åœ¨ç²¾å¿ƒåˆ¶ä½œæ‚¨çš„æ”¿æ²»ä¸‰æ˜æ²»</h2>
        
        <p data-i18n="preparingMessage">æ‚¨çš„æ”¿æ²»ä¸‰æ˜æ²»æ­£åœ¨åˆ¶ä½œå½“ä¸­ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚åˆ¶ä½œå®Œæˆè¿‡åï¼Œä¼šé€šçŸ¥æ‚¨ã€‚</p>
        
        <div class="loading-animation">
          <div class="sandwich-loader">
            <div class="bread bread-top"></div>
            <div class="ingredients">
              <div class="ingredient"></div>
              <div class="ingredient"></div>
              <div class="ingredient"></div>
              <div class="ingredient"></div>
              <div class="ingredient"></div>
            </div>
            <div class="bread bread-bottom"></div>
          </div>
        </div>
        
        <div class="restaurant-info">
          <div class="restaurant-name" data-i18n="restaurantTitle">æåšçš„æ²™æ‹‰é¤å…</div>
          <div class="project-footer" data-i18n="projectFooter">2025-2 Hanyang CORE PROJECT</div>
        </div>
      </div>
    </section>
  </div>
  
  <!-- ç¡®è®¤æ¨¡æ€æ¡† -->
  <div id="confirmationModal" class="modal-overlay" style="display: none;">
    <div class="modal">
      <div class="modal-icon">
        <i class="fas fa-question-circle"></i>
      </div>
      <h3 data-i18n="modalTitle">ç¡®è®¤é€‰æ‹©</h3>
      <p data-i18n="modalDesc">æ‚¨ç¡®å®šè¦é€‰æ‹©è¿™ä¸ªé€‰é¡¹å—ï¼Ÿ</p>
      <div class="modal-buttons">
        <button class="apple-button secondary" id="modalCancel" data-i18n="modalCancel">å†æƒ³æƒ³</button>
        <button class="apple-button primary" id="modalConfirm" data-i18n="modalConfirm">ç¡®å®š</button>
      </div>
    </div>
  </div>

  <script>
    // å¤šè¯­è¨€æ”¯æŒ - å®Œæ•´ç¿»è¯‘
    const translations = {
      zh: {
        // é€šç”¨æ–‡æœ¬
        title: "ğŸ¥ª æ”¿æ²»ä¸‰æ˜æ²» Â· ç‚¹å•è¡¨",
        welcome: "æ¬¢è¿å…‰ä¸´ï¼Œè¯·å…ˆè¾“å…¥æ‚¨çš„å§“å",
        enterName: "ğŸ‘¤ è¯·è¾“å…¥æ‚¨çš„å§“å",
        customerNameLabel: "æ‚¨çš„å§“å",
        nameNote: "*æˆ‘ä»¬å°†ä½¿ç”¨æ­¤å§“åè®°å½•æ‚¨çš„è®¢å•",
        name: "å§“å",
        prev: "ä¸Šä¸€æ­¥",
        next: "ä¸‹ä¸€æ­¥",
        submitOrder: "æäº¤è®¢å•",
        edit: "è¿”å›ä¿®æ”¹",
        confirmGenerate: "ç¡®è®¤å¹¶æäº¤è®¢å•",
        downloadAudio: "ä¸‹è½½éŸ³é¢‘æ–‡ä»¶",
        generating: "éŸ³é¢‘ç”Ÿæˆä¸­...",
        generatingDesc: "æˆ‘ä»¬æ­£åœ¨æ ¹æ®æ‚¨çš„é€‰æ‹©åˆ¶ä½œä¸“å±éŸ³é¢‘",
        summaryTitle: "æ‚¨çš„é€‰æ‹©æ‘˜è¦",
        confirmDesc: "è¯·ç¡®è®¤æ‚¨çš„é€‰æ‹©",
        modalTitle: "ç¡®è®¤é€‰æ‹©",
        modalDesc: "æ‚¨ç¡®å®šè¦é€‰æ‹©è¿™ä¸ªé€‰é¡¹å—ï¼Ÿ",
        modalCancel: "å†æƒ³æƒ³",
        modalConfirm: "ç¡®å®š",
        notSelected: "æœªé€‰æ‹©",
        orderConfirmed: "è®¢å•å·²ç¡®è®¤ï¼",
        orderConfirmedDesc: "æ‚¨çš„è®¢å•å³å°†è¿›å…¥åˆ¶ä½œé˜Ÿåˆ—",
        thinkAgain: "å†æƒ³æƒ³",
        submitFinalOrder: "æäº¤è®¢å•",
        restaurantTitle: "æåšçš„æ²™æ‹‰é¤å…",
        orderInProgress: "æ‚¨çš„è®¢å•å³å°†å¼€å§‹åˆ¶ä½œï¼",
        projectFooter: "2025-2 Hanyang CORE PROJECT",
        
        // åˆ¶ä½œç­‰å¾…é¡µé¢
        preparingTitle: "æ­£åœ¨ç²¾å¿ƒåˆ¶ä½œæ‚¨çš„æ”¿æ²»ä¸‰æ˜æ²»",
        preparingMessage: "æ‚¨çš„æ”¿æ²»ä¸‰æ˜æ²»æ­£åœ¨åˆ¶ä½œå½“ä¸­ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚åˆ¶ä½œå®Œæˆè¿‡åï¼Œä¼šé€šçŸ¥æ‚¨ã€‚",
        preparingDesc: "æ‚¨çš„ä¸“å±ä¸‰æ˜æ²»æ­£åœ¨åˆ¶ä½œ",
        
        // æ­¥éª¤æ ‡é¢˜
        step1: "æ­¥éª¤ 1/6 - é€‰æ‹©æ—¶é•¿",
        step2: "æ­¥éª¤ 2/6 - é€‰æ‹©èƒŒæ™¯éŸ³ä¹",
        step3: "æ­¥éª¤ 3/6 - é€‰æ‹©æ”¿æ²»äººç‰©",
        step4: "æ­¥éª¤ 4/6 - é€‰æ‹©å£°éŸ³æ•ˆæœ",
        step5: "æ­¥éª¤ 5/6 - é€‰æ‹©éŸ³ä¹æ•ˆæœ",
        step6: "æ­¥éª¤ 6/6 - é€‰æ‹©éŸ³ä¹é£æ ¼",
        
        // è¿›åº¦æŒ‡ç¤ºå™¨æ ‡ç­¾
        duration: "æ—¶é•¿",
        bgMusic: "èƒŒæ™¯éŸ³ä¹",
        politicians: "æ”¿æ²»äººç‰©",
        soundEffects: "å£°éŸ³æ•ˆæœ",
        musicEffects: "éŸ³ä¹æ•ˆæœ",
        musicStyle: "éŸ³ä¹é£æ ¼",
        
        // é—®é¢˜æ ‡é¢˜
        chooseDuration: "â±ï¸é€‰æ‹©æ—¶é•¿ï¼ˆé¢åŒ…çš„å°ºå¯¸ä¸ææ–™ï¼‰",
        chooseBgMusic: "ğŸµé€‰æ‹©èƒŒæ™¯éŸ³ä¹ï¼ˆåº•é…±ï¼‰",
        choosePoliticians: "ğŸ‘¥é€‰æ‹©æ”¿æ²»äººç‰©ï¼ˆè‚‰ç±»ï¼‰",
        chooseSoundEffects: "ğŸ”Šé€‰æ‹©å£°éŸ³æ•ˆæœï¼ˆè”¬èœï¼‰",
        chooseMusicEffects: "ğŸ›ï¸é€‰æ‹©éŸ³ä¹æ•ˆæœï¼ˆèŠå£«ï¼‰",
        chooseMusicStyle: "ğŸ¨é€‰æ‹©éŸ³ä¹é£æ ¼ï¼ˆåŠ çƒ­ä¸åŒ…è£…ï¼‰",
        
        // é€‰é¡¹æ–‡æœ¬
        duration1: "ğŸ 15'ï¼ˆ6è‹±å¯¸æ„å¼ç™½é¢åŒ…ï¼ˆClassicï¼‰ï¼‰",
        duration1Desc: "å¿«é€Ÿå“å°ç‰ˆ",
        duration2: "ğŸ¥– 30'ï¼ˆ12è‹±å¯¸æ— éº¸è´¨é¢åŒ…ï¼‰",
        duration2Desc: "å®Œæ•´ä½“éªŒç‰ˆ",
        
        bg1: "ğŸ§ ç™½å™ªéŸ³ï¼ˆç¾ä¹ƒæ»‹ï¼‰",
        bg1Desc: "çº¯å‡€æ— å¹²æ‰°çš„èƒŒæ™¯éŸ³",
        bg2: "ğŸ—£ï¸ è¡Œäººè®²è¯å£°ï¼ˆèœ‚èœœèŠ¥æœ«ï¼‰",
        bg2Desc: "è¡—å¤´å··å°¾çš„çœŸå®æ°›å›´",
        bg3: "ğŸŒ³ ç¯å¢ƒéŸ³ï¼ˆçƒ§çƒ¤é…±ï¼‰",
        bg3Desc: "è‡ªç„¶ä¸åŸå¸‚çš„æ··åˆå£°æ™¯",
        
        politician1: "ğŸ‡ºğŸ‡¸ ç‰¹æœ—æ™®ï¼ˆç¾å¼ç«é¸¡èƒ¸è‚‰ï¼‰",
        politician1Desc: "ç¾å›½æ€»ç»Ÿï¼Œæ°‘ç²¹ä¸»ä¹‰ä»£è¡¨",
        politician2: "ğŸ‡¨ğŸ‡³ ä¹ è¿‘å¹³ï¼ˆä¸­åçƒ¤é¸­é£å‘³ï¼‰",
        politician2Desc: "ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰",
        politician3: "ğŸ‡·ğŸ‡º æ™®äº¬ï¼ˆä¿„å¼é¦™è‚ ï¼‰",
        politician3Desc: "ä¿„ç½—æ–¯æ€»ç»Ÿï¼Œå¼ºæƒæ”¿æ²»ä»£è¡¨",
        politician4: "ğŸ‡°ğŸ‡· æåœ¨æ˜ï¼ˆéŸ©å¼çƒ¤ç‰›è‚‰ï¼‰",
        politician4Desc: "éŸ©å›½å…±åŒæ°‘ä¸»å…šé¢†è¢–ï¼Œè¿›æ­¥æ´¾",
        politician5: "ğŸ‡¯ğŸ‡µ çŸ³ç ´èŒ‚ï¼ˆæ—¥å¼ç…§çƒ§é¸¡ï¼‰",
        politician5Desc: "æ—¥æœ¬è‡ªæ°‘å…šè®®å‘˜ï¼Œä¿å®ˆæ´¾",
        
        multiSelectNote: "*æ”¿å…šåŒç›Ÿ / å¤šäººå¹¶ç½®ï¼ˆå¤šé€‰å‡å¯ï¼‰",
        
        vege1: "ğŸ‰ äººç¾¤æ¬¢å‘¼ï¼ˆç”Ÿèœï¼‰",
        vege1Desc: "çƒ­çƒˆæ”¯æŒçš„æ°›å›´",
        vege2: "ğŸ“° æ–°é—»æ’­æŠ¥ç‰‡æ®µï¼ˆè¥¿çº¢æŸ¿ï¼‰",
        vege2Desc: "æƒå¨åª’ä½“çš„æŠ¥é“",
        vege3: "ğŸ“¢ æŠ—è®®å£å·ï¼ˆæ´‹è‘±ï¼‰",
        vege3Desc: "ä¸åŒæ„è§çš„è¡¨è¾¾",
        vege4: "ğŸ’¥ æªå£° / çˆ†ç‚¸å£°ï¼ˆé’æ¤’ï¼‰",
        vege4Desc: "å†²çªä¸ç´§å¼ å±€åŠ¿",
        vege5: "ğŸ˜ å˜²ç¬‘å£°ï¼ˆé…¸é»„ç“œï¼‰",
        vege5Desc: "è®½åˆºä¸ä¸è®¤åŒ",
        vege7: "ğŸŒªï¸ ä¿¡æ¯æ··ä¹±éŸ³å¢™ï¼ˆå…¨éƒ¨è”¬èœï¼‰",
        vege7Desc: "æ‰€æœ‰å£°éŸ³çš„æ··åˆ",
        
        sauce1: "ğŸ¹ ç”µå­ä¹å¾ªç¯ï¼ˆé©¬è‹é‡Œæ‹‰èŠå£«ï¼‰",
        sauce1Desc: "æŒç»­å¾‹åŠ¨çš„ç”µå­æ°›å›´",
        sauce2: "ğŸ¸ æµè¡Œä¹ä¼´å¥ï¼ˆåˆ‡è¾¾èŠå£«ï¼‰",
        sauce2Desc: "è½»æ¾å¤§ä¼—åŒ–çš„é£æ ¼",
        sauce3: "ğŸ¤ è¯´å”±èŠ‚æ‹ï¼ˆè“çº¹èŠå£«ï¼‰",
        sauce3Desc: "èŠ‚å¥æ„Ÿå¼ºçš„ç°ä»£é£æ ¼",
        
        style1: "âœ¨ é¢—ç²’åˆæˆé£",
        style1Desc: "å°†å£°éŸ³åˆ‡åˆ†æˆå¾®å°é¢—ç²’å¹¶é‡ç»„ï¼Œåˆ›é€ ç»†è…»çš„çº¹ç†å˜åŒ–",
        style2: "ğŸŒŠ å·ç§¯æ··å“é£",
        style2Desc: "é€šè¿‡è„‰å†²å“åº”æ··åˆå£°æ™¯ï¼Œè¥é€ æ²‰æµ¸å¼çš„ç©ºé—´æ„Ÿ",
        style3: "ğŸŒˆ é¢‘è°±å˜å½¢é£",
        style3Desc: "åœ¨é¢‘åŸŸä¸­ç›´æ¥æ“ä½œå£°éŸ³ï¼Œå®ç°å¹³æ»‘çš„éŸ³è‰²è¿‡æ¸¡"
      },
      ko: {
        // é€šç”¨æ–‡æœ¬
        title: "ğŸ¥ª ì •ì¹˜ ìƒŒë“œìœ„ì¹˜ Â· ì£¼ë¬¸ì„œ",
        welcome: "í™˜ì˜í•©ë‹ˆë‹¤. ë¨¼ì € ì„±í•¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”",
        enterName: "ğŸ‘¤ ì„±í•¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”",
        customerNameLabel: "ì„±í•¨",
        nameNote: "*ì´ë¦„ìœ¼ë¡œ ì£¼ë¬¸ì´ ê¸°ë¡ë©ë‹ˆë‹¤",
        name: "ì„±í•¨",
        prev: "ì´ì „",
        next: "ë‹¤ìŒ",
        submitOrder: "ì£¼ë¬¸ ì œì¶œ",
        edit: "ìˆ˜ì •í•˜ê¸°",
        confirmGenerate: "í™•ì¸ ë° ì£¼ë¬¸ ì œì¶œ",
        downloadAudio: "ì˜¤ë””ì˜¤ íŒŒì¼ ë‹¤ìš´ë¡œë“œ",
        generating: "ì˜¤ë””ì˜¤ ìƒì„± ì¤‘...",
        generatingDesc: "ì„ íƒí•˜ì‹  ë‚´ìš©ì— ë”°ë¼ ë§ì¶¤í˜• ì˜¤ë””ì˜¤ë¥¼ ì œì‘ ì¤‘ì…ë‹ˆë‹¤",
        summaryTitle: "ì„ íƒ ìš”ì•½",
        confirmDesc: "ì„ íƒí•˜ì‹  ë‚´ìš©ì„ í™•ì¸í•´ì£¼ì„¸ìš”",
        modalTitle: "ì„ íƒ í™•ì¸",
        modalDesc: "ì´ ì˜µì…˜ì„ ì„ íƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
        modalCancel: "ë‹¤ì‹œ ìƒê°í•´ë³¼ê²Œìš”",
        modalConfirm: "í™•ì¸",
        notSelected: "ì„ íƒ ì•ˆ í•¨",
        orderConfirmed: "ì£¼ë¬¸ì´ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!",
        orderConfirmedDesc: "ì£¼ë¬¸ì´ ì œì‘ ëŒ€ê¸°ì—´ì— ì¶”ê°€ë©ë‹ˆë‹¤",
        thinkAgain: "ë‹¤ì‹œ ìƒê°í•´ë³¼ê²Œìš”",
        submitFinalOrder: "ì£¼ë¬¸ ì œì¶œ",
        restaurantTitle: "ë¦¬ë³´ì˜ ìƒëŸ¬ë“œ ë ˆìŠ¤í† ë‘",
        orderInProgress: "ì£¼ë¬¸ì´ ê³§ ì œì‘ì„ ì‹œì‘í•©ë‹ˆë‹¤!",
        projectFooter: "2025-2 í•œì–‘ CORE í”„ë¡œì íŠ¸",
        
        // åˆ¶ä½œç­‰å¾…é¡µé¢
        preparingTitle: "ì •ì¹˜ ìƒŒë“œìœ„ì¹˜ë¥¼ ì •ì„±ê» ì œì‘ ì¤‘ì…ë‹ˆë‹¤",
        preparingMessage: "ì •ì¹˜ ìƒŒë“œìœ„ì¹˜ê°€ ì œì‘ ì¤‘ì…ë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”. ì œì‘ì´ ì™„ë£Œë˜ë©´ ì•Œë ¤ë“œë¦¬ê² ìŠµë‹ˆë‹¤.",
        preparingDesc: "ë§ì¶¤í˜• ìƒŒë“œìœ„ì¹˜ ì œì‘ ì¤‘",
        
        // æ­¥éª¤æ ‡é¢˜
        step1: "ë‹¨ê³„ 1/6 - ì‹œê°„ ì„ íƒ",
        step2: "ë‹¨ê³„ 2/6 - ë°°ê²½ ìŒì•… ì„ íƒ",
        step3: "ë‹¨ê³„ 3/6 - ì •ì¹˜ì¸ ì„ íƒ",
        step4: "ë‹¨ê³„ 4/6 - ìŒí–¥ íš¨ê³¼ ì„ íƒ",
        step5: "ë‹¨ê³„ 5/6 - ìŒì•… íš¨ê³¼ ì„ íƒ",
        step6: "ë‹¨ê³„ 6/6 - ìŒì•… ìŠ¤íƒ€ì¼ ì„ íƒ",
        
        // è¿›åº¦æŒ‡ç¤ºå™¨æ ‡ç­¾
        duration: "ì‹œê°„",
        bgMusic: "ë°°ê²½ ìŒì•…",
        politicians: "ì •ì¹˜ì¸",
        soundEffects: "ìŒí–¥ íš¨ê³¼",
        musicEffects: "ìŒì•… íš¨ê³¼",
        musicStyle: "ìŒì•… ìŠ¤íƒ€ì¼",
        
        // é—®é¢˜æ ‡é¢˜
        chooseDuration: "â±ï¸ì‹œê°„ ì„ íƒ (ë¹µì˜ í¬ê¸°ì™€ ì¬ë£Œ)",
        chooseBgMusic: "ğŸµë°°ê²½ ìŒì•… ì„ íƒ (ì†ŒìŠ¤)",
        choosePoliticians: "ğŸ‘¥ì •ì¹˜ì¸ ì„ íƒ (ê³ ê¸°)",
        chooseSoundEffects: "ğŸ”ŠìŒí–¥ íš¨ê³¼ ì„ íƒ (ì•¼ì±„)",
        chooseMusicEffects: "ğŸ›ï¸ìŒì•… íš¨ê³¼ ì„ íƒ (ì¹˜ì¦ˆ)",
        chooseMusicStyle: "ğŸ¨ìŒì•… ìŠ¤íƒ€ì¼ ì„ íƒ (ê°€ì—´ ë° í¬ì¥)",
        
        // é€‰é¡¹æ–‡æœ¬
        duration1: "ğŸ 15ì´ˆ (6ì¸ì¹˜ ì´íƒˆë¦¬ì•ˆ í™”ì´íŠ¸ ë¸Œë ˆë“œ)",
        duration1Desc: "ë¹ ë¥¸ ë§›ë³´ê¸° ë²„ì „",
        duration2: "ğŸ¥– 30ì´ˆ (12ì¸ì¹˜ ê¸€ë£¨í… í”„ë¦¬ ë¸Œë ˆë“œ)",
        duration2Desc: "ì™„ì „í•œ ê²½í—˜ ë²„ì „",
        
        bg1: "ğŸ§ í™”ì´íŠ¸ ë…¸ì´ì¦ˆ (ë§ˆìš”ë„¤ì¦ˆ)",
        bg1Desc: "ìˆœìˆ˜í•˜ê³  ë°©í•´ë˜ì§€ ì•ŠëŠ” ë°°ê²½ìŒ",
        bg2: "ğŸ—£ï¸ ë³´í–‰ì ëŒ€í™” ì†Œë¦¬ (í—ˆë‹ˆ ë¨¸ìŠ¤íƒ€ë“œ)",
        bg2Desc: "ê±°ë¦¬ì˜ ì‹¤ì œ ë¶„ìœ„ê¸°",
        bg3: "ğŸŒ³ í™˜ê²½ìŒ (ë°”ë² í ì†ŒìŠ¤)",
        bg3Desc: "ìì—°ê³¼ ë„ì‹œì˜ í˜¼í•© ìŒí–¥",
        
        politician1: "ğŸ‡ºğŸ‡¸ ë„ë„ë“œ íŠ¸ëŸ¼í”„ (ë¯¸ì‹ í„°í‚¤ ê°€ìŠ´ì‚´)",
        politician1Desc: "ë¯¸êµ­ ì „ ëŒ€í†µë ¹, í¬í“°ë¦¬ì¦˜ ëŒ€í‘œ",
        politician2: "ğŸ‡¨ğŸ‡³ ì‹œì§„í•‘ï¼ˆì¤‘í™” ì˜¤ë¦¬êµ¬ì´ í’ë¯¸ï¼‰",
        politician2Desc: "ì¤‘êµ­ íŠ¹ìƒ‰ ì‚¬íšŒì£¼ì˜", 
        politician3: "ğŸ‡·ğŸ‡º ë¸”ë¼ë””ë¯¸ë¥´ í‘¸í‹´ (ëŸ¬ì‹œì•„ì‹ ì†Œì‹œì§€)",
        politician3Desc: "ëŸ¬ì‹œì•„ ëŒ€í†µë ¹, ê°•ê¶Œ ì •ì¹˜ ëŒ€í‘œ",
        politician4: "ğŸ‡°ğŸ‡· ì´ì¬ëª… (í•œì‹ ë¶ˆê³ ê¸°)",
        politician4Desc: "í•œêµ­ ë”ë¶ˆì–´ë¯¼ì£¼ë‹¹ ëŒ€í‘œ, ì§„ë³´íŒŒ",
        politician5: "ğŸ‡¯ğŸ‡µ ì´ì‹œë°” ì‹œê²Œë£¨ (ì¼ì‹ ë°ë¦¬ì•¼í‚¤ ì¹˜í‚¨)",
        politician5Desc: "ì¼ë³¸ ìë¯¼ë‹¹ ì˜ì›, ë³´ìˆ˜íŒŒ",
        
        multiSelectNote: "*ì •ë‹¹ ë™ë§¹ / ë‹¤ìˆ˜ ë³‘ì¹˜ (ë‹¤ì¤‘ ì„ íƒ ê°€ëŠ¥)",
        
        vege1: "ğŸ‰ êµ°ì¤‘ í™˜í˜¸ (ì–‘ìƒì¶”)",
        vege1Desc: "ì—´ë ¬í•œ ì§€ì§€ ë¶„ìœ„ê¸°",
        vege2: "ğŸ“° ë‰´ìŠ¤ ë³´ë„ í´ë¦½ (í† ë§ˆí† )",
        vege2Desc: "ê¶Œìœ„ ìˆëŠ” ë¯¸ë””ì–´ ë³´ë„",
        vege3: "ğŸ“¢ ì‹œìœ„ êµ¬í˜¸ (ì–‘íŒŒ)",
        vege3Desc: "ë‹¤ë¥¸ ì˜ê²¬ í‘œí˜„",
        vege4: "ğŸ’¥ ì´ì„± / í­ë°œìŒ (í”¼ë§)",
        vege4Desc: "ê°ˆë“±ê³¼ ê¸´ì¥ ìƒí™©",
        vege5: "ğŸ˜ ë¹„ì›ƒìŒ ì†Œë¦¬ (í”¼í´)",
        vege5Desc: "ë¹„íŒê³¼ ë¹„ë™ì˜",
        vege7: "ğŸŒªï¸ ì •ë³´ í˜¼ë€ ìŒí–¥ ë²½ (ëª¨ë“  ì•¼ì±„)",
        vege7Desc: "ëª¨ë“  ì†Œë¦¬ì˜ í˜¼í•©",
        
        sauce1: "ğŸ¹ ì „ììŒì•… ë£¨í”„ (ëª¨ì§œë ë¼ ì¹˜ì¦ˆ)",
        sauce1Desc: "ì§€ì†ì ì¸ ë¦¬ë“¬ì˜ ì „ì ë¶„ìœ„ê¸°",
        sauce2: "ğŸ¸ íŒ ìŒì•… ë°˜ì£¼ (ì²´ë‹¤ ì¹˜ì¦ˆ)",
        sauce2Desc: "ê°€ë³ê³  ëŒ€ì¤‘ì ì¸ ìŠ¤íƒ€ì¼",
        sauce3: "ğŸ¤ ë© ë¹„íŠ¸ (ë¸”ë£¨ ì¹˜ì¦ˆ)",
        sauce3Desc: "ë¦¬ë“¬ê° ìˆëŠ” í˜„ëŒ€ ìŠ¤íƒ€ì¼",
        
        style1: "âœ¨ ê·¸ë˜ë‰¼ëŸ¬ ì‹ ë””ì‹œìŠ¤ ìŠ¤íƒ€ì¼",
        style1Desc: "ì†Œë¦¬ë¥¼ ë¯¸ì„¸í•œ ì…ìë¡œ ë¶„í• í•˜ê³  ì¬êµ¬ì„±í•˜ì—¬ ì„¬ì„¸í•œ í…ìŠ¤ì²˜ ë³€í™” ì°½ì¡°",
        style2: "ğŸŒŠ ì»¨ë³¼ë£¨ì…˜ ë¦¬ë²„ë¸Œ ìŠ¤íƒ€ì¼",
        style2Desc: "ì„í„ìŠ¤ ì‘ë‹µì„ í†µí•œ ì‚¬ìš´ë“œìŠ¤ì¼€ì´í”„ í˜¼í•©, ëª°ì…í˜• ê³µê°„ê° ì¡°ì„±",
        style3: "ğŸŒˆ ìŠ¤í™íŠ¸ëŸ´ ëª¨í•‘ ìŠ¤íƒ€ì¼",
        style3Desc: "ì£¼íŒŒìˆ˜ ì˜ì—­ì—ì„œ ì§ì ‘ ì†Œë¦¬ ì¡°ì‘, ë¶€ë“œëŸ¬ìš´ ìŒìƒ‰ ì „í™˜ êµ¬í˜„"
      },
      en: {
        // é€šç”¨æ–‡æœ¬
        title: "ğŸ¥ª Political Sandwich Â· Order Form",
        welcome: "Welcome, please enter your name first",
        enterName: "ğŸ‘¤ Please enter your name",
        customerNameLabel: "Your Name",
        nameNote: "*We'll use this name to record your order",
        name: "Name",
        prev: "Previous",
        next: "Next",
        submitOrder: "Submit Order",
        edit: "Edit",
        confirmGenerate: "Confirm and Submit Order",
        downloadAudio: "Download Audio File",
        generating: "Generating Audio...",
        generatingDesc: "We're creating your custom audio based on your selections",
        summaryTitle: "Your Selection Summary",
        confirmDesc: "Please confirm your selections",
        modalTitle: "Confirm Selection",
        modalDesc: "Are you sure you want to select this option?",
        modalCancel: "Think Again",
        modalConfirm: "Confirm",
        notSelected: "Not selected",
        orderConfirmed: "Order Confirmed!",
        orderConfirmedDesc: "Your order is about to enter the production queue",
        thinkAgain: "Think Again",
        submitFinalOrder: "Submit Order",
        restaurantTitle: "Libo's Salad Restaurant",
        orderInProgress: "Your order is about to start production!",
        projectFooter: "2025-2 Hanyang CORE PROJECT",
        
        // åˆ¶ä½œç­‰å¾…é¡µé¢
        preparingTitle: "Crafting Your Political Sandwich",
        preparingMessage: "Your political sandwich is being carefully prepared. Please be patient. We will notify you when it's ready.",
        preparingDesc: "Your custom sandwich is being prepared",
        
        // æ­¥éª¤æ ‡é¢˜
        step1: "Step 1/6 - Select Duration",
        step2: "Step 2/6 - Select Background Music",
        step3: "Step 3/6 - Select Politicians",
        step4: "Step 4/6 - Select Sound Effects",
        step5: "Step 5/6 - Select Music Effects",
        step6: "Step 6/6 - Select Music Style",
        
        // è¿›åº¦æŒ‡ç¤ºå™¨æ ‡ç­¾
        duration: "Duration",
        bgMusic: "Background Music",
        politicians: "Politicians",
        soundEffects: "Sound Effects",
        musicEffects: "Music Effects",
        musicStyle: "Music Style",
        
        // é—®é¢˜æ ‡é¢˜
        chooseDuration: "â±ï¸Select Duration (Bread Size & Material)",
        chooseBgMusic: "ğŸµSelect Background Music (Sauce)",
        choosePoliticians: "ğŸ‘¥Select Politicians (Meat)",
        chooseSoundEffects: "ğŸ”ŠSelect Sound Effects (Vegetables)",
        chooseMusicEffects: "ğŸ›ï¸Select Music Effects (Cheese)",
        chooseMusicStyle: "ğŸ¨Select Music Style (Heating & Packaging)",
        
        // é€‰é¡¹æ–‡æœ¬
        duration1: "ğŸ 15' (6-inch Italian White Bread)",
        duration1Desc: "Quick Taste Version",
        duration2: "ğŸ¥– 30' (12-inch Gluten-free Bread)",
        duration2Desc: "Full Experience Version",
        
        bg1: "ğŸ§ White Noise (Mayonnaise)",
        bg1Desc: "Pure, non-distracting background sound",
        bg2: "ğŸ—£ï¸ Pedestrian Conversation (Honey Mustard)",
        bg2Desc: "Real street atmosphere",
        bg3: "ğŸŒ³ Ambient Sound (BBQ Sauce)",
        bg3Desc: "Mix of natural and urban soundscape",
        
        politician1: "ğŸ‡ºğŸ‡¸ Donald Trump (American Turkey Breast)",
        politician1Desc: "Former US President, populism representative",
        politician2: "ğŸ‡¨ğŸ‡³ Xi Jinpingï¼ˆChinese Roast Duck Flavorï¼‰",
        politician2Desc: "Socialism with Chinese Characteristics", 
        politician3: "ğŸ‡·ğŸ‡º Vladimir Putin (Russian Sausage)",
        politician3Desc: "Russian President, strongman politics representative",
        politician4: "ğŸ‡°ğŸ‡· Lee Jae-myung (Korean Bulgogi)",
        politician4Desc: "Leader of South Korea's Democratic Party, progressive",
        politician5: "ğŸ‡¯ğŸ‡µ Shigeru Ishiba (Japanese Teriyaki Chicken)",
        politician5Desc: "Japanese LDP lawmaker, conservative",
        
        multiSelectNote: "*Party alliances / Multiple placements (Multiple selection allowed)",
        
        vege1: "ğŸ‰ Crowd Cheers (Lettuce)",
        vege1Desc: "Enthusiastic support atmosphere",
        vege2: "ğŸ“° News Broadcast Clips (Tomato)",
        vege2Desc: "Authoritative media coverage",
        vege3: "ğŸ“¢ Protest Slogans (Onion)",
        vege3Desc: "Expression of differing opinions",
        vege4: "ğŸ’¥ Gunshots / Explosions (Bell Pepper)",
        vege4Desc: "Conflict and tense situations",
        vege5: "ğŸ˜ Mocking Laughter (Pickles)",
        vege5Desc: "Sarcasm and disapproval",
        vege7: "ğŸŒªï¸ Information Chaos Sound Wall (All Vegetables)",
        vege7Desc: "Mix of all sounds",
        
        sauce1: "ğŸ¹ Electronic Loop (Mozzarella Cheese)",
        sauce1Desc: "Continuous rhythmic electronic atmosphere",
        sauce2: "ğŸ¸ Pop Music Accompaniment (Cheddar Cheese)",
        sauce2Desc: "Light and popular style",
        sauce3: "ğŸ¤ Rap Beats (Blue Cheese)",
        sauce3Desc: "Rhythmic modern style",
        
        style1: "âœ¨ Granular Synthesis Style",
        style1Desc: "Split sound into tiny particles and reassemble to create delicate texture changes",
        style2: "ğŸŒŠ Convolution Reverb Style",
        style2Desc: "Mix soundscapes through impulse response to create immersive spatial sense",
        style3: "ğŸŒˆ Spectral Morphing Style",
        style3Desc: "Directly manipulate sound in frequency domain to achieve smooth timbre transitions"
      }
    };

    // å½“å‰è¯­è¨€
    let currentLang = 'zh';
    
    // éŸ³é¢‘ç®¡ç†
    let currentAudio = null;
    let currentAudioButton = null;
    
    // è®¢å•ç®¡ç†
    let orderCounter = 1;
    let currentOrderNumber = null;
    
    // åå°APIåœ°å€ - ä½¿ç”¨æ‚¨çš„IPv4åœ°å€
    const BACKEND_URL =
    window.location.hostname === "127.0.0.1" ||
    window.location.hostname === "localhost"
    ? "http://localhost:3000"
    : "http://192.168.200.195:3000";
    
    // åˆ‡æ¢è¯­è¨€å‡½æ•°
    function switchLanguage(lang) {
      currentLang = lang;
      
      // æ›´æ–°è¯­è¨€æŒ‰é’®çŠ¶æ€
      document.querySelectorAll('.lang-btn').forEach(btn => {
        if (btn.getAttribute('data-lang') === lang) {
          btn.classList.add('active');
        } else {
          btn.classList.remove('active');
        }
      });
      
      // æ›´æ–°æ‰€æœ‰å¸¦data-i18nå±æ€§çš„å…ƒç´ 
      document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
          element.textContent = translations[lang][key];
        }
      });
      
      // æ›´æ–°HTMLçš„langå±æ€§
      document.documentElement.lang = lang;
      
      // å¦‚æœå½“å‰åœ¨æ‘˜è¦é¡µé¢ï¼Œé‡æ–°ç”Ÿæˆæ‘˜è¦
      if (document.getElementById('page7').classList.contains('active')) {
        generateSummary();
      }
      
      // å¦‚æœå½“å‰åœ¨æ‰“å°è®¢å•é¡µé¢ï¼Œé‡æ–°ç”Ÿæˆè®¢å•è¯¦æƒ…
      if (document.getElementById('page8').classList.contains('active')) {
        generatePrintOrder();
      }
    }
    
    // é¡µé¢å¯¼èˆªé€»è¾‘
    const pages = [
      'page0', 'page1', 'page2', 'page3', 'page4', 'page5', 'page6', 'page7', 'page8', 'page9'
    ];
    
    // ç”¨æˆ·é€‰æ‹©å­˜å‚¨
    const userSelections = {
      customerName: '',
      duration: null,
      bg: null,
      politician: [],
      vege: [],
      sauce: null,
      style: null
    };
    
    // å½“å‰é¡µé¢ç´¢å¼•
    let currentPageIndex = 0;
    
    // æ˜¾ç¤ºæŒ‡å®šé¡µé¢
    function showPage(pageIndex) {
      // éšè—æ‰€æœ‰é¡µé¢
      pages.forEach(pageId => {
        document.getElementById(pageId).classList.remove('active');
      });
      
      // æ˜¾ç¤ºå½“å‰é¡µé¢
      document.getElementById(pages[pageIndex]).classList.add('active');
      currentPageIndex = pageIndex;
      
      // æ›´æ–°è¿›åº¦æŒ‡ç¤ºå™¨
      updateProgressIndicator(pageIndex);
      
      // å¦‚æœæ˜¯ç¡®è®¤é¡µé¢ï¼Œç”Ÿæˆæ‘˜è¦
      if (pageIndex === 7) {
        generateSummary();
      }
      
      // å¦‚æœæ˜¯æ‰“å°è®¢å•é¡µé¢ï¼Œç”Ÿæˆæ‰“å°å†…å®¹
      if (pageIndex === 8) {
        generatePrintOrder();
      }
      
      // åœæ­¢å½“å‰æ’­æ”¾çš„éŸ³é¢‘
      stopAudioPreview();
    }
    
    // æ›´æ–°å…¨å±€è¿›åº¦æŒ‡ç¤ºå™¨
    function updateProgressIndicator(pageIndex) {
      // è®¡ç®—è¿›åº¦æ¡å®½åº¦
      let progressPercentage = 0;
      if (pageIndex <= 6) {
        progressPercentage = (pageIndex / 6) * 100;
      } else {
        progressPercentage = 100; // ç¡®è®¤å’Œæ‰“å°é¡µé¢æ˜¾ç¤º100%
      }
      
      // æ›´æ–°è¿›åº¦æ¡
      const progressBar = document.getElementById('globalProgress');
      if (progressBar) {
        progressBar.style.width = `${progressPercentage}%`;
      }
      
      // æ›´æ–°æ‰€æœ‰æ­¥éª¤çŠ¶æ€
      document.querySelectorAll('.progress-step').forEach(step => {
        const stepIndex = parseInt(step.getAttribute('data-step'));
        const circle = step.querySelector('.step-circle');
        const label = step.querySelector('.step-label');
        
        // ç§»é™¤æ‰€æœ‰çŠ¶æ€ç±»
        circle.classList.remove('active', 'completed');
        label.classList.remove('active', 'completed');
        
        // è®¾ç½®çŠ¶æ€
        if (stepIndex < pageIndex) {
          // å·²å®Œæˆçš„æ­¥éª¤
          circle.classList.add('completed');
          label.classList.add('completed');
        } else if (stepIndex === pageIndex) {
          // å½“å‰æ´»åŠ¨æ­¥éª¤
          circle.classList.add('active');
          label.classList.add('active');
        }
      });
    }
    
    // éŸ³é¢‘é¢„è§ˆåŠŸèƒ½
    function setupAudioPreview() {
      document.querySelectorAll('.audio-preview').forEach(button => {
        button.addEventListener('click', function(e) {
          e.stopPropagation(); // é˜²æ­¢è§¦å‘é€‰é¡¹é€‰æ‹©
          
          const audioSrc = this.getAttribute('data-audio');
          
          // å¦‚æœç‚¹å‡»çš„æ˜¯å½“å‰æ­£åœ¨æ’­æ”¾çš„æŒ‰é’®ï¼Œåˆ™åœæ­¢æ’­æ”¾
          if (currentAudioButton === this && currentAudio) {
            stopAudioPreview();
            return;
          }
          
          // åœæ­¢å½“å‰æ’­æ”¾çš„éŸ³é¢‘
          stopAudioPreview();
          
          // å¼€å§‹æ’­æ”¾æ–°éŸ³é¢‘
          currentAudio = new Audio(audioSrc);
          currentAudioButton = this;
          
          // æ›´æ–°æŒ‰é’®çŠ¶æ€
          this.classList.add('playing');
          this.innerHTML = '<i class="fas fa-stop"></i>';
          
          // æ’­æ”¾éŸ³é¢‘
          currentAudio.play().catch(error => {
            console.log('éŸ³é¢‘æ’­æ”¾å¤±è´¥:', error);
            // å¦‚æœæ’­æ”¾å¤±è´¥ï¼Œé‡ç½®æŒ‰é’®çŠ¶æ€
            resetAudioButton(this);
          });
          
          // éŸ³é¢‘æ’­æ”¾ç»“æŸæ—¶çš„å¤„ç†
          currentAudio.addEventListener('ended', () => {
            resetAudioButton(this);
            currentAudio = null;
            currentAudioButton = null;
          });
        });
      });
    }
    
    // åœæ­¢éŸ³é¢‘é¢„è§ˆ
    function stopAudioPreview() {
      if (currentAudio) {
        currentAudio.pause();
        currentAudio.currentTime = 0;
        currentAudio = null;
      }
      
      if (currentAudioButton) {
        resetAudioButton(currentAudioButton);
        currentAudioButton = null;
      }
    }
    
    // é‡ç½®éŸ³é¢‘æŒ‰é’®çŠ¶æ€
    function resetAudioButton(button) {
      button.classList.remove('playing');
      button.innerHTML = '<i class="fas fa-play"></i>';
    }
    
    // ä¸‹ä¸€æ­¥æŒ‰é’®ç‚¹å‡»äº‹ä»¶
    function setupNextButtons() {
      // é¡µé¢0åˆ°é¡µé¢6çš„ä¸‹ä¸€æ­¥æŒ‰é’®
      for (let i = 0; i <= 6; i++) {
        const nextButton = document.getElementById(`next${i}`);
        if (nextButton) {
          nextButton.addEventListener('click', () => {
            // åœæ­¢éŸ³é¢‘æ’­æ”¾
            stopAudioPreview();
            
            // æ˜¾ç¤ºç¡®è®¤æ¨¡æ€æ¡†
            document.getElementById('confirmationModal').style.display = 'flex';
            
            // è®¾ç½®æ¨¡æ€æ¡†ç¡®è®¤æŒ‰é’®çš„å›è°ƒ
            document.getElementById('modalConfirm').onclick = () => {
              // éšè—æ¨¡æ€æ¡†
              document.getElementById('confirmationModal').style.display = 'none';
              
              // å‰è¿›åˆ°ä¸‹ä¸€é¡µ
              showPage(currentPageIndex + 1);
            };
            
            // è®¾ç½®æ¨¡æ€æ¡†å–æ¶ˆæŒ‰é’®çš„å›è°ƒ
            document.getElementById('modalCancel').onclick = () => {
              document.getElementById('confirmationModal').style.display = 'none';
            };
          });
        }
      }
      
      // æœ€ç»ˆç¡®è®¤æŒ‰é’®
      document.getElementById('confirmOrder').addEventListener('click', () => {
        // åœæ­¢éŸ³é¢‘æ’­æ”¾
        stopAudioPreview();
        
        // æ˜¾ç¤ºç¡®è®¤æ¨¡æ€æ¡†
        document.getElementById('confirmationModal').style.display = 'flex';
        
        // è®¾ç½®æ¨¡æ€æ¡†ç¡®è®¤æŒ‰é’®çš„å›è°ƒ
        document.getElementById('modalConfirm').onclick = () => {
          // éšè—æ¨¡æ€æ¡†
          document.getElementById('confirmationModal').style.display = 'none';
          
          // ç”Ÿæˆè®¢å•å·
          currentOrderNumber = `#${String(orderCounter).padStart(3, '0')}`;
          orderCounter++;
          
          // è·³è½¬åˆ°æ‰“å°è®¢å•é¡µé¢
          showPage(8);
        };
        
        // è®¾ç½®æ¨¡æ€æ¡†å–æ¶ˆæŒ‰é’®çš„å›è°ƒ
        document.getElementById('modalCancel').onclick = () => {
          document.getElementById('confirmationModal').style.display = 'none';
        };
      });
    }
    
    // ä¸Šä¸€æ­¥æŒ‰é’®ç‚¹å‡»äº‹ä»¶
    function setupPrevButtons() {
      for (let i = 1; i <= 7; i++) {
        const prevButton = document.getElementById(`prev${i}`);
        if (prevButton) {
          prevButton.addEventListener('click', () => {
            // åœæ­¢éŸ³é¢‘æ’­æ”¾
            stopAudioPreview();
            showPage(currentPageIndex - 1);
          });
        }
      }
    }
    
    // è®¾ç½®é€‰é¡¹é€‰æ‹©é€»è¾‘
    function setupOptionSelection() {
      // å•é€‰æŒ‰é’®é€»è¾‘
      document.querySelectorAll('input[type="radio"]').forEach(radio => {
        radio.addEventListener('change', function() {
          // æ›´æ–°ç”¨æˆ·é€‰æ‹©
          const name = this.name;
          userSelections[name] = this.value;
          
          // å¯ç”¨ä¸‹ä¸€æ­¥æŒ‰é’®
          enableNextButton();
          
          // æ›´æ–°é€‰é¡¹æ ·å¼
          updateOptionStyles(this);
        });
      });
      
      // å¤šé€‰æŒ‰é’®é€»è¾‘
      document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
        checkbox.addEventListener('change', function() {
          const name = this.name;
          
          // å¤„ç†"å…¨éƒ¨è”¬èœ"é€‰é¡¹çš„ç‰¹æ®Šé€»è¾‘
          if (name === 'vege' && this.value === 'vege7') {
            if (this.checked) {
              // ç¦ç”¨å…¶ä»–è”¬èœé€‰é¡¹
              document.querySelectorAll('input[name="vege"]').forEach(cb => {
                if (cb !== this) {
                  cb.checked = false;
                  cb.disabled = true;
                  cb.closest('.option').classList.remove('selected');
                }
              });
              userSelections[name] = [this.value];
            } else {
              // å¯ç”¨å…¶ä»–è”¬èœé€‰é¡¹
              document.querySelectorAll('input[name="vege"]').forEach(cb => {
                cb.disabled = false;
              });
            }
          } else if (name === 'vege') {
            // å¦‚æœé€‰æ‹©äº†å…¶ä»–è”¬èœé€‰é¡¹ï¼Œå–æ¶ˆ"å…¨éƒ¨è”¬èœ"é€‰é¡¹
            const allVegetables = document.querySelector('input[value="vege7"]');
            if (allVegetables) {
              allVegetables.checked = false;
              allVegetables.disabled = false;
            }
          }
          
          // æ›´æ–°ç”¨æˆ·é€‰æ‹©
          if (this.checked) {
            if (!userSelections[name].includes(this.value)) {
              userSelections[name].push(this.value);
            }
          } else {
            const index = userSelections[name].indexOf(this.value);
            if (index > -1) {
              userSelections[name].splice(index, 1);
            }
          }
          
          // å¯ç”¨ä¸‹ä¸€æ­¥æŒ‰é’®
          enableNextButton();
          
          // æ›´æ–°é€‰é¡¹æ ·å¼
          updateOptionStyles(this);
        });
      });
      
      // å§“åè¾“å…¥æ¡†é€»è¾‘
      const customerNameInput = document.getElementById('customerName');
      customerNameInput.addEventListener('input', function() {
        userSelections.customerName = this.value.trim();
        const nextButton = document.getElementById('next0');
        if (nextButton) {
          nextButton.disabled = !userSelections.customerName;
        }
      });
    }
    
    // å¯ç”¨ä¸‹ä¸€æ­¥æŒ‰é’®
    function enableNextButton() {
      const currentPage = pages[currentPageIndex];
      
      // æ£€æŸ¥å½“å‰é¡µé¢æ˜¯å¦æœ‰å¿…é€‰é€‰é¡¹
      let hasSelection = false;
      
      if (currentPage === 'page0') {
        // å§“åé¡µé¢ï¼Œå¿…é¡»æœ‰å§“å
        hasSelection = userSelections.customerName !== '';
      } else if (currentPage === 'page3' || currentPage === 'page4') {
        // å¤šé€‰é¡µé¢ï¼Œè‡³å°‘é€‰ä¸€ä¸ª
        const inputName = getInputNameForPage(currentPage);
        hasSelection = userSelections[inputName].length > 0;
      } else {
        // å•é€‰é¡µé¢ï¼Œå¿…é¡»æœ‰å€¼
        const inputName = getInputNameForPage(currentPage);
        hasSelection = userSelections[inputName] !== null;
      }
      
      const nextButton = document.getElementById(`next${currentPageIndex}`);
      if (nextButton) {
        nextButton.disabled = !hasSelection;
      }
    }
    
    // æ ¹æ®é¡µé¢è·å–è¾“å…¥åç§°
    function getInputNameForPage(pageId) {
      switch(pageId) {
        case 'page1': return 'duration';
        case 'page2': return 'bg';
        case 'page3': return 'politician';
        case 'page4': return 'vege';
        case 'page5': return 'sauce';
        case 'page6': return 'style';
        default: return null;
      }
    }
    
    // æ›´æ–°é€‰é¡¹æ ·å¼
    function updateOptionStyles(selectedInput) {
      // ç§»é™¤æ‰€æœ‰é€‰é¡¹çš„é€‰ä¸­æ ·å¼
      document.querySelectorAll('.option').forEach(option => {
        option.classList.remove('selected');
      });
      
      // ä¸ºé€‰ä¸­çš„é€‰é¡¹æ·»åŠ æ ·å¼
      if (selectedInput.type === 'radio') {
        // å•é€‰ï¼šåªé€‰ä¸­ä¸€ä¸ª
        const selectedOption = selectedInput.closest('.option');
        if (selectedOption) {
          selectedOption.classList.add('selected');
        }
      } else {
        // å¤šé€‰ï¼šé€‰ä¸­æ‰€æœ‰å·²é€‰æ‹©çš„
        document.querySelectorAll('input[type="checkbox"]:checked').forEach(checkbox => {
          const selectedOption = checkbox.closest('.option');
          if (selectedOption) {
            selectedOption.classList.add('selected');
          }
        });
      }
    }
    
    // ç”Ÿæˆè®¢å•æ‘˜è¦
    function generateSummary() {
      const summaryList = document.getElementById('summaryList');
      summaryList.innerHTML = '';
      
      // æ·»åŠ å®¢æˆ·å§“å
      const nameItem = document.createElement('div');
      nameItem.className = 'summary-item';
      
      const nameLabel = document.createElement('div');
      nameLabel.className = 'summary-label';
      nameLabel.textContent = translations[currentLang].name;
      
      const nameValue = document.createElement('div');
      nameValue.className = 'summary-value';
      nameValue.textContent = userSelections.customerName;
      
      nameItem.appendChild(nameLabel);
      nameItem.appendChild(nameValue);
      summaryList.appendChild(nameItem);
      
      // æ·»åŠ æ¯ä¸ªé€‰æ‹©åˆ°æ‘˜è¦
      for (const [key, value] of Object.entries(userSelections)) {
        if (key === 'customerName') continue;
        
        const summaryItem = document.createElement('div');
        summaryItem.className = 'summary-item';
        
        const label = document.createElement('div');
        label.className = 'summary-label';
        label.textContent = getLabelForSelection(key);
        
        const valueDiv = document.createElement('div');
        valueDiv.className = 'summary-value';
        
        if (Array.isArray(value)) {
          // å¤„ç†å¤šé€‰å€¼
          const translatedValues = value.map(v => getTranslatedValue(v));
          valueDiv.textContent = translatedValues.join(', ');
        } else {
          // å¤„ç†å•é€‰å€¼
          valueDiv.textContent = getTranslatedValue(value) || translations[currentLang].notSelected;
        }
        
        summaryItem.appendChild(label);
        summaryItem.appendChild(valueDiv);
        summaryList.appendChild(summaryItem);
      }
    }
    
    // è·å–é€‰æ‹©é¡¹çš„æ ‡ç­¾
    function getLabelForSelection(key) {
      const labels = {
        duration: 'â±ï¸ ' + translations[currentLang].duration,
        bg: 'ğŸµ ' + translations[currentLang].bgMusic,
        politician: 'ğŸ‘¥ ' + translations[currentLang].politicians,
        vege: 'ğŸ”Š ' + translations[currentLang].soundEffects,
        sauce: 'ğŸ›ï¸ ' + translations[currentLang].musicEffects,
        style: 'ğŸ¨ ' + translations[currentLang].musicStyle
      };
      
      return labels[key] || key;
    }
    
    // è·å–å€¼çš„ç¿»è¯‘ - ä¿®å¤ç‰ˆæœ¬
    function getTranslatedValue(valueKey) {
      if (!valueKey) return null;
      
      // ç›´æ¥ä½¿ç”¨å­˜å‚¨çš„é”®æ¥è·å–ç¿»è¯‘
      if (translations[currentLang] && translations[currentLang][valueKey]) {
        // è·å–ä¸»æ–‡æœ¬ï¼ˆä¸å¸¦æè¿°çš„æ–‡æœ¬ï¼‰
        const fullText = translations[currentLang][valueKey];
        
        // å¦‚æœæ˜¯æ”¿æ²»äººç‰©ã€å£°éŸ³æ•ˆæœã€éŸ³ä¹æ•ˆæœç­‰éœ€è¦æ˜¾ç¤ºæè¿°çš„é€‰é¡¹
        // æˆ‘ä»¬åªè¿”å›ä¸»æ–‡æœ¬éƒ¨åˆ†ï¼ˆå»æ‰æè¿°ï¼‰
        if (valueKey.includes('politician') || valueKey.includes('vege') || 
            valueKey.includes('sauce') || valueKey.includes('style') || 
            valueKey.includes('duration') || valueKey.includes('bg')) {
          // å¯¹äºåŒ…å«æ‹¬å·çš„æ–‡æœ¬ï¼Œåªè¿”å›æ‹¬å·å‰çš„å†…å®¹
          const mainText = fullText.split('ï¼ˆ')[0];
          return mainText;
        }
        
        return fullText;
      }
      
      // å¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„ç¿»è¯‘ï¼Œè¿”å›åŸå€¼
      return valueKey;
    }
    
    // ç”Ÿæˆæ‰“å°è®¢å•å†…å®¹ - ä¿®å¤ç‰ˆæœ¬ï¼ˆåˆ é™¤è¯­è¨€æ˜¾ç¤ºï¼‰
    function generatePrintOrder() {
      const orderNumberDisplay = document.getElementById('orderNumberDisplay');
      const printOrderDetails = document.getElementById('printOrderDetails');
      
      // æ˜¾ç¤ºè®¢å•å·
      orderNumberDisplay.textContent = currentOrderNumber;
      
      // ç”Ÿæˆè®¢å•è¯¦æƒ…
      let detailsHTML = `
        <h3>${translations[currentLang].restaurantTitle}</h3>
        <div class="summary-item">
          <div class="summary-label">${translations[currentLang].name}</div>
          <div class="summary-value">${userSelections.customerName}</div>
        </div>
      `;
      
      for (const [key, value] of Object.entries(userSelections)) {
        if (key === 'customerName') continue;
        
        let displayValue = '';
        
        if (Array.isArray(value)) {
          // å¤„ç†å¤šé€‰å€¼
          const translatedValues = value.map(v => getTranslatedValue(v));
          displayValue = translatedValues.join(', ');
        } else {
          // å¤„ç†å•é€‰å€¼
          displayValue = getTranslatedValue(value) || translations[currentLang].notSelected;
        }
        
        detailsHTML += `
          <div class="summary-item">
            <div class="summary-label">${getLabelForSelection(key)}</div>
            <div class="summary-value">${displayValue}</div>
          </div>
        `;
      }
      
      // æ·»åŠ åº•éƒ¨ä¿¡æ¯
      detailsHTML += `
        <div class="summary-item" style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #F2F2F7;">
          <div class="summary-value" style="text-align: center; width: 100%; font-style: italic; color: var(--apple-secondary);">
            ${translations[currentLang].orderInProgress}
          </div>
        </div>
        <div class="summary-item">
          <div class="summary-value" style="text-align: center; width: 100%; font-size: 12px; color: var(--apple-secondary);">
            ${translations[currentLang].projectFooter}
          </div>
        </div>
      `;
      
      printOrderDetails.innerHTML = detailsHTML;
    }
    
    // å‘é€è®¢å•åˆ°åå°
    async function sendOrderToBackend() {
      try {
        // å‡†å¤‡è®¢å•æ•°æ®
        const orderData = {
          orderNumber: currentOrderNumber,
          customerName: userSelections.customerName,
          language: currentLang,
          selections: {
            duration: userSelections.duration,
            bg: userSelections.bg,
            politician: userSelections.politician,
            vege: userSelections.vege,
            sauce: userSelections.sauce,
            style: userSelections.style
          },
          timestamp: new Date().toISOString()
        };
        
        console.log('å‘é€è®¢å•åˆ°:', BACKEND_URL);
        
        // å‘é€åˆ°åå°
        const response = await fetch(`${BACKEND_URL}/orders`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(orderData)
        });
        
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const result = await response.json();
        console.log('è®¢å•å‘é€æˆåŠŸ:', result);
        return result;
        
      } catch (error) {
        console.error('å‘é€è®¢å•åˆ°åå°å¤±è´¥:', error);
        // æ˜¾ç¤ºæ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
        alert(`è®¢å•å‘é€å¤±è´¥: ${error.message}\nè¯·ç¡®ä¿åå°æœåŠ¡å™¨è¿è¡Œåœ¨ ${BACKEND_URL}`);
        throw error;
      }
    }
    
    // åˆå§‹åŒ–é¡µé¢
    function init() {
      // è®¾ç½®è¯­è¨€åˆ‡æ¢æŒ‰é’®äº‹ä»¶
      document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const lang = this.getAttribute('data-lang');
          switchLanguage(lang);
        });
      });
      
      // è®¾ç½®éŸ³é¢‘é¢„è§ˆåŠŸèƒ½
      setupAudioPreview();
      
      // è®¾ç½®ä¸‹ä¸€æ­¥æŒ‰é’®äº‹ä»¶
      setupNextButtons();
      
      // è®¾ç½®ä¸Šä¸€æ­¥æŒ‰é’®äº‹ä»¶
      setupPrevButtons();
      
      // è®¾ç½®é€‰é¡¹é€‰æ‹©é€»è¾‘
      setupOptionSelection();
      
      // è®¾ç½®"æäº¤è®¢å•"æŒ‰é’® - å‘é€åˆ°åå°
      document.getElementById('submitFinalOrder').addEventListener('click', async () => {
        const submitButton = document.getElementById('submitFinalOrder');
        const originalText = submitButton.innerHTML;
        
        try {
          // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
          submitButton.innerHTML = '<span class="loading-spinner"></span>å‘é€ä¸­...';
          submitButton.disabled = true;
          
          // å‘é€è®¢å•åˆ°åå°
          await sendOrderToBackend();
          
          // æ¨¡æ‹Ÿæ‰“å°åˆ°å°ç¥¨æœº
          printToReceiptPrinter();
          
          // è·³è½¬åˆ°åˆ¶ä½œç­‰å¾…é¡µé¢
          showPage(9);
          
        } catch (error) {
          console.error('è®¢å•å¤„ç†å¤±è´¥:', error);
          alert('è®¢å•å‘é€å¤±è´¥ï¼Œè¯·æ£€æŸ¥åå°æœåŠ¡å™¨æ˜¯å¦è¿è¡Œåœ¨ ' + BACKEND_URL);
        } finally {
          // æ¢å¤æŒ‰é’®çŠ¶æ€
          submitButton.innerHTML = originalText;
          submitButton.disabled = false;
        }
      });
      
      // åˆå§‹åŒ–è¯­è¨€
      switchLanguage('zh');
    }
    
    // æ¨¡æ‹Ÿæ‰“å°åˆ°å°ç¥¨æœº - ä¿®å¤ç‰ˆæœ¬ï¼ˆåˆ é™¤è¯­è¨€æ˜¾ç¤ºï¼‰
    function printToReceiptPrinter() {
      // åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œåº”è¯¥è¿æ¥åˆ°çœŸæ­£çš„æ‰“å°æœº
      // è¿™é‡Œæˆ‘ä»¬åªæ˜¯æ¨¡æ‹Ÿæ‰“å°åŠŸèƒ½
      console.log('\n========== ' + translations[currentLang].restaurantTitle + ' ==========');
      console.log(`è®¢å•å·: ${currentOrderNumber}`);
      console.log(`å®¢æˆ·å§“å: ${userSelections.customerName}`);
      console.log('è®¢å•è¯¦æƒ…:');
      
      for (const [key, value] of Object.entries(userSelections)) {
        if (key === 'customerName') continue;
        
        let displayValue = '';
        
        if (Array.isArray(value)) {
          // å¤„ç†å¤šé€‰å€¼
          const translatedValues = value.map(v => getTranslatedValue(v));
          displayValue = translatedValues.join(', ');
        } else {
          // å¤„ç†å•é€‰å€¼
          displayValue = getTranslatedValue(value) || translations[currentLang].notSelected;
        }
        
        console.log(`${getLabelForSelection(key)}: ${displayValue}`);
      }
      
      console.log(translations[currentLang].orderInProgress);
      console.log(translations[currentLang].projectFooter);
      console.log('====================================\n');
    }
    
    // é‡ç½®ç”¨æˆ·é€‰æ‹©
    function resetUserSelections() {
      userSelections.customerName = '';
      userSelections.duration = null;
      userSelections.bg = null;
      userSelections.politician = [];
      userSelections.vege = [];
      userSelections.sauce = null;
      userSelections.style = null;
      
      // é‡ç½®è¡¨å•
      document.getElementById('customerName').value = '';
      document.querySelectorAll('input[type="radio"]').forEach(radio => {
        radio.checked = false;
      });
      document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
        checkbox.checked = false;
        checkbox.disabled = false;
      });
      document.querySelectorAll('.option').forEach(option => {
        option.classList.remove('selected');
      });
      
      // ç¦ç”¨ä¸‹ä¸€æ­¥æŒ‰é’®
      document.getElementById('next0').disabled = true;
    }
    
    // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>